<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script>(function(){var a=window;function c(d){this.t={};this.tick=function(e,f,b){b=b?b:(new Date).getTime();this.t[e]=[b,f]};this.tick("start",null,d)}var g=new c;a.jstiming={Timer:c,load:g};try{a.jstiming.pt=a.gtbExternal&&a.gtbExternal.pageT()||a.external&&a.external.pageT}catch(h){};})();
</script><script>var gadgets=gadgets||{};
gadgets.config=function(){var A=[];
return{register:function(D,C,B){var E=A[D];
if(!E){E=[];
A[D]=E
}E.push({validators:C||{},callback:B})
},get:function(B){if(B){return configuration[B]||{}
}return configuration
},init:function(D,K){configuration=D;
for(var B in A){if(A.hasOwnProperty(B)){var C=A[B],H=D[B];
for(var G=0,F=C.length;
G<F;
++G){var I=C[G];
if(H&&!K){var E=I.validators;
for(var J in E){if(E.hasOwnProperty(J)){if(!E[J](H[J])){throw new Error('Invalid config value "'+H[J]+'" for parameter "'+J+'" in component "'+B+'"')
}}}}if(I.callback){I.callback(D)
}}}}},EnumValidator:function(E){var D=[];
if(arguments.length>1){for(var C=0,B;
(B=arguments[C]);
++C){D.push(B)
}}else{D=E
}return function(G){for(var F=0,H;
(H=D[F]);
++F){if(G===D[F]){return true
}}}
},RegExValidator:function(B){return function(C){return B.test(C)
}
},ExistsValidator:function(B){return typeof B!=="undefined"
},NonEmptyStringValidator:function(B){return typeof B==="string"&&B.length>0
},BooleanValidator:function(B){return typeof B==="boolean"
},LikeValidator:function(B){return function(D){for(var E in B){if(B.hasOwnProperty(E)){var C=B[E];
if(!C(D[E])){return false
}}}return true
}
}}
}();;
var gadgets=gadgets||{};
gadgets.util=function(){function G(L){var M;
var K=L;
var I=K.indexOf("?");
var J=K.indexOf("#");
if(J===-1){M=K.substr(I+1)
}else{M=[K.substr(I+1,J-I-1),"&",K.substr(J+1)].join("")
}return M.split("&")
}var E=null;
var D={};
var C={};
var F=[];
var A={0:false,10:true,13:true,34:true,39:true,60:true,62:true,92:true,8232:true,8233:true};
function B(I,J){return String.fromCharCode(J)
}function H(I){D=I["core.util"]||{}
}if(gadgets.config){gadgets.config.register("core.util",null,H)
}return{getUrlParameters:function(Q){if(E!==null&&typeof Q==="undefined"){return E
}var M={};
E={};
var J=G(Q||document.location.href);
var O=window.decodeURIComponent?decodeURIComponent:unescape;
for(var L=0,K=J.length;
L<K;
++L){var N=J[L].indexOf("=");
if(N===-1){continue
}var I=J[L].substring(0,N);
var P=J[L].substring(N+1);
P=P.replace(/\+/g," ");
M[I]=O(P)
}if(typeof Q==="undefined"){E=M
}return M
},makeClosure:function(L,N,M){var K=[];
for(var J=2,I=arguments.length;
J<I;
++J){K.push(arguments[J])
}return function(){var O=K.slice();
for(var Q=0,P=arguments.length;
Q<P;
++Q){O.push(arguments[Q])
}return N.apply(L,O)
}
},makeEnum:function(J){var L={};
for(var K=0,I;
(I=J[K]);
++K){L[I]=I
}return L
},getFeatureParameters:function(I){return typeof D[I]==="undefined"?null:D[I]
},hasFeature:function(I){return typeof D[I]!=="undefined"
},getServices:function(){return C
},registerOnLoadHandler:function(I){F.push(I)
},runOnLoadHandlers:function(){for(var J=0,I=F.length;
J<I;
++J){F[J]()
}},escape:function(I,M){if(!I){return I
}else{if(typeof I==="string"){return gadgets.util.escapeString(I)
}else{if(typeof I==="array"){for(var L=0,J=I.length;
L<J;
++L){I[L]=gadgets.util.escape(I[L])
}}else{if(typeof I==="object"&&M){var K={};
for(var N in I){if(I.hasOwnProperty(N)){K[gadgets.util.escapeString(N)]=gadgets.util.escape(I[N],true)
}}return K
}}}}return I
},escapeString:function(M){var J=[],L,N;
for(var K=0,I=M.length;
K<I;
++K){L=M.charCodeAt(K);
N=A[L];
if(N===true){J.push("&#",L,";")
}else{if(N!==false){J.push(M.charAt(K))
}}}return J.join("")
},unescapeString:function(I){return I.replace(/&#([0-9]+);/g,B)
}}
}();
gadgets.util.getUrlParameters();;
var tamings___=tamings___||[];
tamings___.push(function(A){caja___.whitelistFuncs([[gadgets.util,"escapeString"],[gadgets.util,"getFeatureParameters"],[gadgets.util,"hasFeature"],[gadgets.util,"registerOnLoadHandler"],[gadgets.util,"unescapeString"]])
});;
var gadgets=gadgets||{};
gadgets.log=function(A){gadgets.log.logAtLevel(gadgets.log.INFO,A)
};
gadgets.warn=function(A){gadgets.log.logAtLevel(gadgets.log.WARNING,A)
};
gadgets.error=function(A){gadgets.log.logAtLevel(gadgets.log.ERROR,A)
};
gadgets.setLogLevel=function(A){gadgets.log.logLevelThreshold_=A
};
gadgets.log.logAtLevel=function(D,C){if(D<gadgets.log.logLevelThreshold_||!gadgets.log._console){return 
}var B;
var A=gadgets.log._console;
if(D==gadgets.log.WARNING&&A.warn){A.warn(C)
}else{if(D==gadgets.log.ERROR&&A.error){A.error(C)
}else{if(A.log){A.log(C)
}}}};
gadgets.log.INFO=1;
gadgets.log.WARNING=2;
gadgets.log.NONE=4;
gadgets.log.logLevelThreshold_=gadgets.log.INFO;
gadgets.log._console=window.console?window.console:window.opera?window.opera.postError:undefined;;
var tamings___=tamings___||[];
tamings___.push(function(A){___.grantRead(gadgets.log,"INFO");
___.grantRead(gadgets.log,"WARNING");
___.grantRead(gadgets.log,"ERROR");
___.grantRead(gadgets.log,"NONE");
caja___.whitelistFuncs([[gadgets,"log"],[gadgets,"warn"],[gadgets,"error"],[gadgets,"setLogLevel"],[gadgets.log,"logAtLevel"],])
});;
var gadgets=gadgets||{};
if(window.JSON&&window.JSON.parse&&window.JSON.stringify){gadgets.json={parse:function(B){try{return window.JSON.parse(B)
}catch(A){return false
}},stringify:function(B){try{return window.JSON.stringify(B)
}catch(A){return null
}}}
}else{gadgets.json=function(){function f(n){return n<10?"0"+n:n
}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",f(this.getUTCMonth()+1),"-",f(this.getUTCDate()),"T",f(this.getUTCHours()),":",f(this.getUTCMinutes()),":",f(this.getUTCSeconds()),"Z"].join("")
};
var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
function stringify(value){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;
switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];
if(c){return c
}c=a.charCodeAt();
return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)
})+'"':'"'+value+'"';
case"number":return isFinite(value)?String(value):"null";
case"boolean":case"null":return String(value);
case"object":if(!value){return"null"
}a=[];
if(typeof value.length==="number"&&!value.propertyIsEnumerable("length")){l=value.length;
for(i=0;
i<l;
i+=1){a.push(stringify(value[i])||"null")
}return"["+a.join(",")+"]"
}for(k in value){if(k.match("___$")){continue
}if(value.hasOwnProperty(k)){if(typeof k==="string"){v=stringify(value[k]);
if(v){a.push(stringify(k)+":"+v)
}}}}return"{"+a.join(",")+"}"
}}return{stringify:stringify,parse:function(text){if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return eval("("+text+")")
}return false
}}
}()
};;
var tamings___=tamings___||[];
tamings___.push(function(A){caja___.whitelistFuncs([[gadgets.json,"parse"],[gadgets.json,"stringify"]])
});;
var shindig=shindig||{};
shindig.Auth=function(){var authToken=null;
var trusted=null;
function addParamsToToken(urlParams){var args=authToken.split("&");
for(var i=0;
i<args.length;
i++){var nameAndValue=args[i].split("=");
if(nameAndValue.length===2){var name=nameAndValue[0];
var value=nameAndValue[1];
if(value==="$"){value=encodeURIComponent(urlParams[name]);
args[i]=name+"="+value
}}}authToken=args.join("&")
}function init(configuration){var urlParams=gadgets.util.getUrlParameters();
var config=configuration["shindig.auth"]||{};
if(config.authToken){authToken=config.authToken
}else{if(urlParams.st){authToken=urlParams.st
}}if(authToken!==null){addParamsToToken(urlParams)
}if(config.trustedJson){trusted=eval("("+config.trustedJson+")")
}}gadgets.config.register("shindig.auth",null,init);
return{getSecurityToken:function(){return authToken
},updateSecurityToken:function(newToken){authToken=newToken
},getTrustedData:function(){return trusted
}}
};;
var shindig=shindig||{};
shindig.auth=new shindig.Auth();;
var gadgets=gadgets||{};
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.wpm=function(){var A;
return{getCode:function(){return"wpm"
},isParentVerifiable:function(){return true
},init:function(B,C){A=C;
var D=function(E){B(gadgets.json.parse(E.data))
};
if(typeof window.addEventListener!="undefined"){window.addEventListener("message",D,false)
}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onmessage",D)
}}A("..",true);
return true
},setup:function(C,B){if(C===".."){gadgets.rpc.call(C,gadgets.rpc.ACK)
}return true
},call:function(C,G,F){var E=gadgets.rpc._getTargetWin(C);
var D=gadgets.rpc.getRelayUrl(C)||gadgets.util.getUrlParameters()["parent"];
var B=gadgets.rpc.getOrigin(D);
if(B){E.postMessage(gadgets.json.stringify(F),B)
}else{gadgets.error("No relay set (used as window.postMessage targetOrigin), cannot send cross-domain message")
}return true
}}
}();;
var gadgets=gadgets||{};
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.frameElement=function(){var E="__g2c_rpc";
var B="__c2g_rpc";
var D;
var C;
function A(G,K,J){try{if(K!==".."){var F=window.frameElement;
if(typeof F[E]==="function"){if(typeof F[E][B]!=="function"){F[E][B]=function(L){D(gadgets.json.parse(L))
}
}F[E](gadgets.json.stringify(J));
return 
}}else{var I=document.getElementById(G);
if(typeof I[E]==="function"&&typeof I[E][B]==="function"){I[E][B](gadgets.json.stringify(J));
return 
}}}catch(H){}return true
}return{getCode:function(){return"fe"
},isParentVerifiable:function(){return false
},init:function(F,G){D=F;
C=G;
return true
},setup:function(J,F){if(J!==".."){try{var I=document.getElementById(J);
I[E]=function(K){D(gadgets.json.parse(K))
}
}catch(H){return false
}}if(J===".."){C("..",true);
var G=function(){window.setTimeout(function(){gadgets.rpc.call(J,gadgets.rpc.ACK)
},500)
};
gadgets.util.registerOnLoadHandler(G)
}return true
},call:function(F,H,G){A(F,H,G)
}}
}();;
var gadgets=gadgets||{};
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.nix=function(){var C="GRPC____NIXVBS_wrapper";
var D="GRPC____NIXVBS_get_wrapper";
var F="GRPC____NIXVBS_handle_message";
var B="GRPC____NIXVBS_create_channel";
var A=10;
var J=500;
var I={};
var H;
var G=0;
function E(){var L=I[".."];
if(L){return 
}if(++G>A){gadgets.warn("Nix transport setup failed, falling back...");
H("..",false);
return 
}if(!L&&window.opener&&"GetAuthToken" in window.opener){L=window.opener;
if(L.GetAuthToken()==gadgets.rpc.getAuthToken("..")){var K=gadgets.rpc.getAuthToken("..");
L.CreateChannel(window[D]("..",K),K);
I[".."]=L;
window.opener=null;
H("..",true);
return 
}}window.setTimeout(function(){E()
},J)
}return{getCode:function(){return"nix"
},isParentVerifiable:function(){return false
},init:function(L,M){H=M;
if(typeof window[D]!=="unknown"){window[F]=function(O){window.setTimeout(function(){L(gadgets.json.parse(O))
},0)
};
window[B]=function(O,Q,P){if(gadgets.rpc.getAuthToken(O)===P){I[O]=Q;
H(O,true)
}};
var K="Class "+C+"\n Private m_Intended\nPrivate m_Auth\nPublic Sub SetIntendedName(name)\n If isEmpty(m_Intended) Then\nm_Intended = name\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\n If isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\n "+F+"(data)\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub CreateChannel(channel, auth)\n Call "+B+"(m_Intended, channel, auth)\nEnd Sub\nEnd Class\nFunction "+D+"(name, auth)\nDim wrap\nSet wrap = New "+C+"\nwrap.SetIntendedName name\nwrap.SetAuth auth\nSet "+D+" = wrap\nEnd Function";
try{window.execScript(K,"vbscript")
}catch(N){return false
}}return true
},setup:function(O,K){if(O===".."){E();
return true
}try{var M=document.getElementById(O);
var N=window[D](O,K);
M.contentWindow.opener=N
}catch(L){return false
}return true
},call:function(K,N,M){try{if(I[K]){I[K].SendMessage(gadgets.json.stringify(M))
}}catch(L){return false
}return true
}}
}();;
var gadgets=gadgets||{};
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.rmr=function(){var G=500;
var E=10;
var H={};
var B;
var I;
function K(P,N,O,M){var Q=function(){document.body.appendChild(P);
P.src="about:blank";
if(M){P.onload=function(){L(M)
}
}P.src=N+"#"+O
};
if(document.body){Q()
}else{gadgets.util.registerOnLoadHandler(function(){Q()
})
}}function C(O){if(typeof H[O]==="object"){return 
}var P=document.createElement("iframe");
var M=P.style;
M.position="absolute";
M.top="0px";
M.border="0";
M.opacity="0";
M.width="10px";
M.height="1px";
P.id="rmrtransport-"+O;
P.name=P.id;
var N=gadgets.rpc.getRelayUrl(O);
if(!N){N=gadgets.rpc.getOrigin(gadgets.util.getUrlParameters()["parent"])+"/robots.txt"
}H[O]={frame:P,receiveWindow:null,relayUri:N,searchCounter:0,width:10,waiting:true,queue:[],sendId:0,recvId:0};
if(O!==".."){K(P,N,A(O))
}D(O)
}function D(O){var Q=null;
H[O].searchCounter++;
try{var N=gadgets.rpc._getTargetWin(O);
if(O===".."){Q=N.frames["rmrtransport-"+gadgets.rpc.RPC_ID]
}else{Q=N.frames["rmrtransport-.."]
}}catch(P){}var M=false;
if(Q){M=F(O,Q)
}if(!M){if(H[O].searchCounter>E){return 
}window.setTimeout(function(){D(O)
},G)
}}function J(N,P,T,S){var O=null;
if(T!==".."){O=H[".."]
}else{O=H[N]
}if(O){if(P!==gadgets.rpc.ACK){O.queue.push(S)
}if(O.waiting||(O.queue.length===0&&!(P===gadgets.rpc.ACK&&S&&S.ackAlone===true))){return true
}if(O.queue.length>0){O.waiting=true
}var M=O.relayUri+"#"+A(N);
try{O.frame.contentWindow.location=M;
var Q=O.width==10?20:10;
O.frame.style.width=Q+"px";
O.width=Q
}catch(R){return false
}}return true
}function A(N){var O=H[N];
var M={id:O.sendId};
if(O){M.d=Array.prototype.slice.call(O.queue,0);
M.d.push({s:gadgets.rpc.ACK,id:O.recvId})
}return gadgets.json.stringify(M)
}function L(X){var U=H[X];
var Q=U.receiveWindow.location.hash.substring(1);
var Y=gadgets.json.parse(decodeURIComponent(Q))||{};
var N=Y.d||[];
var O=false;
var T=false;
var V=0;
var M=(U.recvId-Y.id);
for(var P=0;
P<N.length;
++P){var S=N[P];
if(S.s===gadgets.rpc.ACK){I(X,true);
if(U.waiting){T=true
}U.waiting=false;
var R=Math.max(0,S.id-U.sendId);
U.queue.splice(0,R);
U.sendId=Math.max(U.sendId,S.id||0);
continue
}O=true;
if(++V<=M){continue
}++U.recvId;
B(S)
}if(O||(T&&U.queue.length>0)){var W=(X==="..")?gadgets.rpc.RPC_ID:"..";
J(X,gadgets.rpc.ACK,W,{ackAlone:O})
}}function F(P,S){var O=H[P];
try{var N=false;
N="document" in S;
if(!N){return false
}N=typeof S.document=="object";
if(!N){return false
}var R=S.location.href;
if(R==="about:blank"){return false
}}catch(M){return false
}O.receiveWindow=S;
function Q(){L(P)
}if(typeof S.attachEvent==="undefined"){S.onresize=Q
}else{S.attachEvent("onresize",Q)
}if(P===".."){K(O.frame,O.relayUri,A(P),P)
}else{L(P)
}return true
}return{getCode:function(){return"rmr"
},isParentVerifiable:function(){return true
},init:function(M,N){B=M;
I=N;
return true
},setup:function(O,M){try{C(O)
}catch(N){gadgets.warn("Caught exception setting up RMR: "+N);
return false
}return true
},call:function(M,O,N){return J(M,N.s,O,N)
}}
}();;
var gadgets=gadgets||{};
gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.ifpc=function(){var E=[];
var D=0;
var C;
function B(H){var F=[];
for(var I=0,G=H.length;
I<G;
++I){F.push(encodeURIComponent(gadgets.json.stringify(H[I])))
}return F.join("&")
}function A(I){var G;
for(var F=E.length-1;
F>=0;
--F){var J=E[F];
try{if(J&&(J.recyclable||J.readyState==="complete")){J.parentNode.removeChild(J);
if(window.ActiveXObject){E[F]=J=null;
E.splice(F,1)
}else{J.recyclable=false;
G=J;
break
}}}catch(H){}}if(!G){G=document.createElement("iframe");
G.style.border=G.style.width=G.style.height="0px";
G.style.visibility="hidden";
G.style.position="absolute";
G.onload=function(){this.recyclable=true
};
E.push(G)
}G.src=I;
window.setTimeout(function(){document.body.appendChild(G)
},0)
}return{getCode:function(){return"ifpc"
},isParentVerifiable:function(){return true
},init:function(F,G){C=G;
C("..",true);
return true
},setup:function(G,F){C(G,true);
return true
},call:function(F,K,I){var J=gadgets.rpc.getRelayUrl(F);
++D;
if(!J){gadgets.warn("No relay file assigned for IFPC");
return 
}var H=null;
if(I.l){var G=I.a;
H=[J,"#",B([K,D,1,0,B([K,I.s,"","",K].concat(G))])].join("")
}else{H=[J,"#",F,"&",K,"@",D,"&1&0&",encodeURIComponent(gadgets.json.stringify(I))].join("")
}A(H);
return true
}}
}();;
var gadgets=gadgets||{};
gadgets.rpc=function(){var T="__cb";
var S="";
var G="__ack";
var R=500;
var J=10;
var B={};
var C={};
var X={};
var K={};
var N=0;
var i={};
var W={};
var D={};
var f={};
var L={};
var V={};
var M=(window.top!==window.self);
var O=window.name;
var g=(function(){function j(k){return function(){gadgets.log("gadgets.rpc."+k+"("+gadgets.json.stringify(Array.prototype.slice.call(arguments))+"): call ignored. [caller: "+document.location+", isChild: "+M+"]")
}
}return{getCode:function(){return"noop"
},isParentVerifiable:function(){return true
},init:j("init"),setup:j("setup"),call:j("call")}
})();
if(gadgets.util){f=gadgets.util.getUrlParameters()
}var a=(f.rpc_earlyq==="1");
function A(){return typeof window.postMessage==="function"?gadgets.rpctx.wpm:typeof window.postMessage==="object"?gadgets.rpctx.wpm:window.ActiveXObject?gadgets.rpctx.nix:navigator.userAgent.indexOf("WebKit")>0?gadgets.rpctx.rmr:navigator.product==="Gecko"?gadgets.rpctx.frameElement:gadgets.rpctx.ifpc
}function b(o,m){var k=c;
if(!m){k=g
}L[o]=k;
var j=V[o]||[];
for(var l=0;
l<j.length;
++l){var n=j[l];
n.t=Y(o);
k.call(o,n.f,n)
}V[o]=[]
}function U(k){if(k&&typeof k.s==="string"&&typeof k.f==="string"&&k.a instanceof Array){if(K[k.f]){if(K[k.f]!==k.t){throw new Error("Invalid auth token. "+K[k.f]+" vs "+k.t)
}}if(k.s===G){window.setTimeout(function(){b(k.f,true)
},0);
return 
}if(k.c){k.callback=function(l){gadgets.rpc.call(k.f,T,null,k.c,l)
}
}var j=(B[k.s]||B[S]).apply(k,k.a);
if(k.c&&typeof j!=="undefined"){gadgets.rpc.call(k.f,T,null,k.c,j)
}}}function e(l){if(!l){return""
}l=l.toLowerCase();
if(l.indexOf("//")==0){l=window.location.protocol+l
}if(l.indexOf("://")==-1){l=window.location.protocol+"//"+l
}var m=l.substring(l.indexOf("://")+3);
var j=m.indexOf("/");
if(j!=-1){m=m.substring(0,j)
}var o=l.substring(0,l.indexOf("://"));
var n="";
var p=m.indexOf(":");
if(p!=-1){var k=m.substring(p+1);
m=m.substring(0,p);
if((o==="http"&&k!=="80")||(o==="https"&&k!=="443")){n=":"+k
}}return o+"://"+m+n
}function I(k){if(typeof k==="undefined"||k===".."){return window.parent
}k=String(k);
var j=window.frames[k];
if(j){return j
}j=document.getElementById(k);
if(j&&j.contentWindow){return j.contentWindow
}return null
}var c=A();
B[S]=function(){gadgets.warn("Unknown RPC service: "+this.s)
};
B[T]=function(k,j){var l=i[k];
if(l){delete i[k];
l(j)
}};
function P(l,j){if(W[l]===true){return 
}if(typeof W[l]==="undefined"){W[l]=0
}var k=document.getElementById(l);
if(l===".."||k!=null){if(c.setup(l,j)===true){W[l]=true;
return 
}}if(W[l]!==true&&W[l]++<J){window.setTimeout(function(){P(l,j)
},R)
}else{L[l]=g;
W[l]=true
}}function F(k,n){if(typeof D[k]==="undefined"){D[k]=false;
var m=gadgets.rpc.getRelayUrl(k);
if(e(m)!==e(window.location.href)){return false
}var l=I(k);
try{D[k]=l.gadgets.rpc.receiveSameDomain
}catch(j){gadgets.error("Same domain call failed: parent= incorrectly set.")
}}if(typeof D[k]==="function"){D[k](n);
return true
}return false
}function H(k,j,l){C[k]=j;
X[k]=!!l
}function Y(j){return K[j]
}function E(j,k){k=k||"";
K[j]=String(k);
P(j,k)
}function Q(j){function l(o){var q=o?o.rpc:{};
var n=q.parentRelayUrl;
if(n.substring(0,7)!=="http://"&&n.substring(0,8)!=="https://"&&n.substring(0,2)!=="//"){if(typeof f.parent==="string"&&f.parent!==""){if(n.substring(0,1)!=="/"){var m=f.parent.lastIndexOf("/");
n=f.parent.substring(0,m+1)+n
}else{n=e(f.parent)+n
}}}var p=!!q.useLegacyProtocol;
H("..",n,p);
if(p){c=gadgets.rpctx.ifpc;
c.init(U,b)
}E("..",j)
}var k={parentRelayUrl:gadgets.config.NonEmptyStringValidator};
gadgets.config.register("rpc",k,l)
}function Z(l,j){var k=j||f.parent;
if(k){H("..",k);
E("..",l)
}}function d(j,n,p){if(!gadgets.util){return 
}var m=document.getElementById(j);
if(!m){throw new Error("Cannot set up gadgets.rpc receiver with ID: "+j+", element not found.")
}var k=n||m.src;
H(j,k);
var o=gadgets.util.getUrlParameters(m.src);
var l=p||o.rpctoken;
E(j,l)
}function h(j,l,m){if(j===".."){var k=m||f.rpctoken||f.ifpctok||"";
if(gadgets.config){Q(k)
}else{Z(k,l)
}}else{d(j,l,m)
}}return{register:function(k,j){if(k===T||k===G){throw new Error("Cannot overwrite callback/ack service")
}if(k===S){throw new Error("Cannot overwrite default service: use registerDefault")
}B[k]=j
},unregister:function(j){if(j===T||j===G){throw new Error("Cannot delete callback/ack service")
}if(j===S){throw new Error("Cannot delete default service: use unregisterDefault")
}delete B[j]
},registerDefault:function(j){B[S]=j
},unregisterDefault:function(){delete B[S]
},forceParentVerifiable:function(){if(!c.isParentVerifiable()){c=gadgets.rpctx.ifpc
}},call:function(j,k,p,n){j=j||"..";
var o="..";
if(j===".."){o=O
}++N;
if(p){i[N]=p
}var m={s:k,f:o,c:p?N:0,a:Array.prototype.slice.call(arguments,3),t:K[j],l:X[j]};
if(j!==".."&&!document.getElementById(j)){gadgets.log("WARNING: attempted send to nonexistent frame: "+j);
return 
}if(F(j,m)){return 
}var l=L[j]?L[j]:c;
if(!l){if(!V[j]){V[j]=[m]
}else{V[j].push(m)
}return 
}if(X[j]){l=gadgets.rpctx.ifpc
}if(l.call(j,o,m)===false){L[j]=g;
c.call(j,o,m)
}},getRelayUrl:function(k){var j=C[k];
if(j&&j.indexOf("//")==0){j=document.location.protocol+j
}return j
},setRelayUrl:H,setAuthToken:E,setupReceiver:h,getAuthToken:Y,getRelayChannel:function(){return c.getCode()
},receive:function(j){if(j.length>4){U(gadgets.json.parse(decodeURIComponent(j[j.length-1])))
}},receiveSameDomain:function(j){j.a=Array.prototype.slice.call(j.a);
window.setTimeout(function(){U(j)
},0)
},getOrigin:e,init:function(){if(c.init(U,b)===false){c=g
}if(M){h("..")
}},_getTargetWin:I,ACK:G,RPC_ID:O}
}();
gadgets.rpc.init();;
var opensocial=opensocial||{};
opensocial.requestSendMessage=function(A,D,B,C){return opensocial.Container.get().requestSendMessage(A,D,B,C)
};
opensocial.requestShareApp=function(A,D,B,C){opensocial.Container.get().requestShareApp(A,D,B,C)
};
opensocial.requestCreateActivity=function(C,B,A){if(!C||(!C.getField(opensocial.Activity.Field.TITLE)&&!C.getField(opensocial.Activity.Field.TITLE_ID))){if(A){window.setTimeout(function(){A(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.BAD_REQUEST,"You must pass in an activity with a title or title id."))
},0)
}return 
}opensocial.Container.get().requestCreateActivity(C,B,A)
};
opensocial.CreateActivityPriority={HIGH:"HIGH",LOW:"LOW"};
opensocial.hasPermission=function(A){return opensocial.Container.get().hasPermission(A)
};
opensocial.requestPermission=function(B,C,A){opensocial.Container.get().requestPermission(B,C,A)
};
opensocial.Permission={VIEWER:"viewer"};
opensocial.getEnvironment=function(){return opensocial.Container.get().getEnvironment()
};
opensocial.newDataRequest=function(){return opensocial.Container.get().newDataRequest()
};
opensocial.newActivity=function(A){return opensocial.Container.get().newActivity(A)
};
opensocial.newMediaItem=function(C,A,B){return opensocial.Container.get().newMediaItem(C,A,B)
};
opensocial.newMessage=function(A,B){return opensocial.Container.get().newMessage(A,B)
};
opensocial.EscapeType={HTML_ESCAPE:"htmlEscape",NONE:"none"};
opensocial.newIdSpec=function(A){return opensocial.Container.get().newIdSpec(A)
};
opensocial.newNavigationParameters=function(A){return opensocial.Container.get().newNavigationParameters(A)
};
opensocial.invalidateCache=function(){opensocial.Container.get().invalidateCache()
};
Function.prototype.inherits=function(A){function B(){}B.prototype=A.prototype;
this.superClass_=A.prototype;
this.prototype=new B();
this.prototype.constructor=this
};;
opensocial.Activity=function(A){this.fields_=A
};
opensocial.Activity.Field={TITLE_ID:"titleId",TITLE:"title",TEMPLATE_PARAMS:"templateParams",URL:"url",MEDIA_ITEMS:"mediaItems",BODY_ID:"bodyId",BODY:"body",EXTERNAL_ID:"externalId",STREAM_TITLE:"streamTitle",STREAM_URL:"streamUrl",STREAM_SOURCE_URL:"streamSourceUrl",STREAM_FAVICON_URL:"streamFaviconUrl",PRIORITY:"priority",ID:"id",USER_ID:"userId",APP_ID:"appId",POSTED_TIME:"postedTime"};
opensocial.Activity.prototype.getId=function(){return this.getField(opensocial.Activity.Field.ID)
};
opensocial.Activity.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};
opensocial.Activity.prototype.setField=function(A,B){return(this.fields_[A]=B)
};;
opensocial.Address=function(A){this.fields_=A||{}
};
opensocial.Address.Field={TYPE:"type",UNSTRUCTURED_ADDRESS:"unstructuredAddress",PO_BOX:"poBox",STREET_ADDRESS:"streetAddress",EXTENDED_ADDRESS:"extendedAddress",REGION:"region",LOCALITY:"locality",POSTAL_CODE:"postalCode",COUNTRY:"country",LATITUDE:"latitude",LONGITUDE:"longitude"};
opensocial.Address.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};;
opensocial.BodyType=function(A){this.fields_=A||{}
};
opensocial.BodyType.Field={BUILD:"build",HEIGHT:"height",WEIGHT:"weight",EYE_COLOR:"eyeColor",HAIR_COLOR:"hairColor"};
opensocial.BodyType.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};;
opensocial.Collection=function(C,B,A){this.array_=C||[];
this.offset_=B||0;
this.totalSize_=A||this.array_.length
};
opensocial.Collection.prototype.getById=function(C){for(var A=0;
A<this.size();
A++){var B=this.array_[A];
if(B.getId()===C){return B
}}return null
};
opensocial.Collection.prototype.size=function(){return this.array_.length
};
opensocial.Collection.prototype.each=function(B){for(var A=0;
A<this.size();
A++){B(this.array_[A])
}};
opensocial.Collection.prototype.asArray=function(){return this.array_
};
opensocial.Collection.prototype.getTotalSize=function(){return this.totalSize_
};
opensocial.Collection.prototype.getOffset=function(){return this.offset_
};;
opensocial.Container=function(){};
opensocial.Container.container_=null;
opensocial.Container.setContainer=function(A){opensocial.Container.container_=A
};
opensocial.Container.get=function(){return opensocial.Container.container_
};
opensocial.Container.prototype.getEnvironment=function(){};
opensocial.Container.prototype.requestSendMessage=function(A,D,B,C){gadgets.rpc.call(null,"requestSendMessage",B,A,D,B,C)
};
opensocial.Container.prototype.requestShareApp=function(A,D,B,C){if(B){window.setTimeout(function(){B(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.NOT_IMPLEMENTED,null))
},0)
}};
opensocial.Container.prototype.requestCreateActivity=function(C,B,A){if(A){window.setTimeout(function(){A(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.NOT_IMPLEMENTED,null))
},0)
}};
opensocial.Container.prototype.hasPermission=function(A){return false
};
opensocial.Container.prototype.requestPermission=function(B,C,A){if(A){window.setTimeout(function(){A(new opensocial.ResponseItem(null,null,opensocial.ResponseItem.Error.NOT_IMPLEMENTED,null))
},0)
}};
opensocial.Container.prototype.requestData=function(A,B){};
opensocial.Container.prototype.newFetchPersonRequest=function(B,A){};
opensocial.Container.prototype.newFetchPeopleRequest=function(A,B){};
opensocial.Container.prototype.newFetchPersonAppDataRequest=function(A,C,B){};
opensocial.Container.prototype.newUpdatePersonAppDataRequest=function(A,B){};
opensocial.Container.prototype.newRemovePersonAppDataRequest=function(A){};
opensocial.Container.prototype.newFetchActivitiesRequest=function(A,B){};
opensocial.Container.prototype.newFetchMessageCollectionsRequest=function(A,B){};
opensocial.Container.prototype.newFetchMessagesRequest=function(A,C,B){};
opensocial.Container.prototype.newCollection=function(C,B,A){return new opensocial.Collection(C,B,A)
};
opensocial.Container.prototype.newPerson=function(A,B,C){return new opensocial.Person(A,B,C)
};
opensocial.Container.prototype.newActivity=function(A){return new opensocial.Activity(A)
};
opensocial.Container.prototype.newMediaItem=function(C,A,B){return new opensocial.MediaItem(C,A,B)
};
opensocial.Container.prototype.newMessage=function(A,B){return new opensocial.Message(A,B)
};
opensocial.Container.prototype.newIdSpec=function(A){return new opensocial.IdSpec(A)
};
opensocial.Container.prototype.newNavigationParameters=function(A){return new opensocial.NavigationParameters(A)
};
opensocial.Container.prototype.newResponseItem=function(A,C,B,D){return new opensocial.ResponseItem(A,C,B,D)
};
opensocial.Container.prototype.newDataResponse=function(A,B){return new opensocial.DataResponse(A,B)
};
opensocial.Container.prototype.newDataRequest=function(){return new opensocial.DataRequest()
};
opensocial.Container.prototype.newEnvironment=function(B,A){return new opensocial.Environment(B,A)
};
opensocial.Container.prototype.invalidateCache=function(){};
opensocial.Container.isArray=function(A){return A instanceof Array
};
opensocial.Container.getField=function(A,B,C){var D=A[B];
return opensocial.Container.escape(D,C,false)
};
opensocial.Container.escape=function(C,B,A){if(B&&B[opensocial.DataRequest.DataRequestFields.ESCAPE_TYPE]==opensocial.EscapeType.NONE){return C
}else{return gadgets.util.escape(C,A)
}};;
opensocial.DataRequest=function(){this.requestObjects_=[]
};
opensocial.DataRequest.prototype.requestObjects_=null;
opensocial.DataRequest.prototype.getRequestObjects=function(){return this.requestObjects_
};
opensocial.DataRequest.prototype.add=function(B,A){return this.requestObjects_.push({key:A,request:B})
};
opensocial.DataRequest.prototype.send=function(A){var B=A||function(){};
opensocial.Container.get().requestData(this,B)
};
opensocial.DataRequest.SortOrder={TOP_FRIENDS:"topFriends",NAME:"name"};
opensocial.DataRequest.FilterType={ALL:"all",HAS_APP:"hasApp",TOP_FRIENDS:"topFriends",IS_FRIENDS_WITH:"isFriendsWith"};
opensocial.DataRequest.PeopleRequestFields={PROFILE_DETAILS:"profileDetail",SORT_ORDER:"sortOrder",FILTER:"filter",FILTER_OPTIONS:"filterOptions",FIRST:"first",MAX:"max",APP_DATA:"appData",ESCAPE_TYPE:"escapeType"};
opensocial.DataRequest.prototype.addDefaultParam=function(C,B,A){C[B]=C[B]||A
};
opensocial.DataRequest.prototype.addDefaultProfileFields=function(B){var A=opensocial.DataRequest.PeopleRequestFields;
var C=B[A.PROFILE_DETAILS]||[];
B[A.PROFILE_DETAILS]=C.concat([opensocial.Person.Field.ID,opensocial.Person.Field.NAME,opensocial.Person.Field.THUMBNAIL_URL])
};
opensocial.DataRequest.prototype.asArray=function(A){if(opensocial.Container.isArray(A)){return A
}else{return[A]
}};
opensocial.DataRequest.prototype.newFetchPersonRequest=function(B,A){A=A||{};
this.addDefaultProfileFields(A);
return opensocial.Container.get().newFetchPersonRequest(B,A)
};
opensocial.DataRequest.prototype.newFetchPeopleRequest=function(B,C){C=C||{};
var A=opensocial.DataRequest.PeopleRequestFields;
this.addDefaultProfileFields(C);
this.addDefaultParam(C,A.SORT_ORDER,opensocial.DataRequest.SortOrder.TOP_FRIENDS);
this.addDefaultParam(C,A.FILTER,opensocial.DataRequest.FilterType.ALL);
this.addDefaultParam(C,A.FIRST,0);
this.addDefaultParam(C,A.MAX,20);
return opensocial.Container.get().newFetchPeopleRequest(B,C)
};
opensocial.DataRequest.DataRequestFields={ESCAPE_TYPE:"escapeType"};
opensocial.DataRequest.prototype.newFetchPersonAppDataRequest=function(A,C,B){return opensocial.Container.get().newFetchPersonAppDataRequest(A,this.asArray(C),B)
};
opensocial.DataRequest.prototype.newUpdatePersonAppDataRequest=function(A,B){return opensocial.Container.get().newUpdatePersonAppDataRequest(A,B)
};
opensocial.DataRequest.prototype.newRemovePersonAppDataRequest=function(A){return opensocial.Container.get().newRemovePersonAppDataRequest(A)
};
opensocial.DataRequest.ActivityRequestFields={APP_ID:"appId",FIRST:"first",MAX:"max"};
opensocial.DataRequest.prototype.newFetchActivitiesRequest=function(B,C){C=C||{};
var A=opensocial.DataRequest.ActivityRequestFields;
this.addDefaultParam(C,A.FIRST,0);
this.addDefaultParam(C,A.MAX,20);
return opensocial.Container.get().newFetchActivitiesRequest(B,C)
};
opensocial.DataRequest.prototype.newFetchMessageCollectionsRequest=function(A,B){B=B||{};
return opensocial.Container.get().newFetchMessageCollectionsRequest(A,B)
};
opensocial.DataRequest.prototype.newFetchMessagesRequest=function(A,C,B){B=B||{};
return opensocial.Container.get().newFetchMessagesRequest(A,C,B)
};;
opensocial.DataResponse=function(A,B,C){this.responseItems_=A;
this.globalError_=B;
this.errorMessage_=C
};
opensocial.DataResponse.prototype.hadError=function(){return !!this.globalError_
};
opensocial.DataResponse.prototype.getErrorMessage=function(){return this.errorMessage_
};
opensocial.DataResponse.prototype.get=function(A){return this.responseItems_[A]
};;
opensocial.Email=function(A){this.fields_=A||{}
};
opensocial.Email.Field={TYPE:"type",ADDRESS:"address"};
opensocial.Email.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};;
opensocial.Enum=function(B,A){this.key=B;
this.displayValue=A
};
opensocial.Enum.prototype.getKey=function(){return gadgets.util.escape(this.key)
};
opensocial.Enum.prototype.getDisplayValue=function(){return gadgets.util.escape(this.displayValue)
};
opensocial.Enum.Smoker={NO:"NO",YES:"YES",SOCIALLY:"SOCIALLY",OCCASIONALLY:"OCCASIONALLY",REGULARLY:"REGULARLY",HEAVILY:"HEAVILY",QUITTING:"QUITTING",QUIT:"QUIT"};
opensocial.Enum.Drinker={NO:"NO",YES:"YES",SOCIALLY:"SOCIALLY",OCCASIONALLY:"OCCASIONALLY",REGULARLY:"REGULARLY",HEAVILY:"HEAVILY",QUITTING:"QUITTING",QUIT:"QUIT"};
opensocial.Enum.Gender={MALE:"MALE",FEMALE:"FEMALE"};
opensocial.Enum.LookingFor={DATING:"DATING",FRIENDS:"FRIENDS",RELATIONSHIP:"RELATIONSHIP",NETWORKING:"NETWORKING",ACTIVITY_PARTNERS:"ACTIVITY_PARTNERS",RANDOM:"RANDOM"};
opensocial.Enum.Presence={AWAY:"AWAY",CHAT:"CHAT",DND:"DND",OFFLINE:"OFFLINE",ONLINE:"ONLINE",XA:"XA"};;
opensocial.Environment=function(B,A){this.domain=B;
this.supportedFields=A
};
opensocial.Environment.prototype.getDomain=function(){return this.domain
};
opensocial.Environment.ObjectType={PERSON:"person",ADDRESS:"address",BODY_TYPE:"bodyType",EMAIL:"email",NAME:"name",ORGANIZATION:"organization",PHONE:"phone",URL:"url",ACTIVITY:"activity",MEDIA_ITEM:"mediaItem",MESSAGE:"message",MESSAGE_TYPE:"messageType",SORT_ORDER:"sortOrder",FILTER_TYPE:"filterType"};
opensocial.Environment.prototype.supportsField=function(A,C){var B=this.supportedFields[A]||[];
return !!B[C]
};;
opensocial.IdSpec=function(A){this.fields_=A||{}
};
opensocial.IdSpec.Field={USER_ID:"userId",GROUP_ID:"groupId",NETWORK_DISTANCE:"networkDistance"};
opensocial.IdSpec.PersonId={OWNER:"OWNER",VIEWER:"VIEWER"};
opensocial.IdSpec.GroupId={SELF:"SELF",FRIENDS:"FRIENDS",ALL:"ALL"};
opensocial.IdSpec.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};
opensocial.IdSpec.prototype.setField=function(A,B){return(this.fields_[A]=B)
};;
opensocial.MediaItem=function(D,B,C){this.fields_={};
if(C){for(var A in C){if(C.hasOwnProperty(A)){this.fields_[A]=C[A]
}}}this.fields_[opensocial.MediaItem.Field.MIME_TYPE]=D;
this.fields_[opensocial.MediaItem.Field.URL]=B
};
opensocial.MediaItem.Type={IMAGE:"image",VIDEO:"video",AUDIO:"audio"};
opensocial.MediaItem.Field={TYPE:"type",MIME_TYPE:"mimeType",URL:"url"};
opensocial.MediaItem.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};
opensocial.MediaItem.prototype.setField=function(A,B){return(this.fields_[A]=B)
};;
opensocial.MessageCollection=function(A){this.fields_=A||{}
};
opensocial.MessageCollection.Field={ID:"id",TITLE:"title",TOTAL:"total",UNREAD:"unread",UPDATED:"updated",URLS:"urls"};
opensocial.MessageCollection.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};
opensocial.MessageCollection.prototype.setField=function(A,B){return this.fields_[A]=B
};;
opensocial.Message=function(A,B){if(typeof A=="string"){this.fields_=B||{};
this.fields_[opensocial.Message.Field.BODY]=A
}else{this.fields_=A||{}
}};
opensocial.Message.Field={APP_URL:"appUrl",BODY:"body",BODY_ID:"bodyId",COLLECTION_IDS:"collectionIds",ID:"id",PARENT_ID:"parentId",RECIPIENTS:"recipients",SENDER_ID:"senderId",STATUS:"status",TIME_SENT:"timeSent",TITLE:"title",TITLE_ID:"titleId",TYPE:"type",UPDATED:"updated",URLS:"urls"};
opensocial.Message.Type={EMAIL:"email",NOTIFICATION:"notification",PRIVATE_MESSAGE:"privateMessage",PUBLIC_MESSAGE:"publicMessage"};
opensocial.Message.Status={NEW:"new",DELETED:"deleted",FLAGGED:"flagged"};
opensocial.Message.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};
opensocial.Message.prototype.setField=function(A,B){return(this.fields_[A]=B)
};;
opensocial.Name=function(A){this.fields_=A||{}
};
opensocial.Name.Field={FAMILY_NAME:"familyName",GIVEN_NAME:"givenName",ADDITIONAL_NAME:"additionalName",HONORIFIC_PREFIX:"honorificPrefix",HONORIFIC_SUFFIX:"honorificSuffix",UNSTRUCTURED:"unstructured"};
opensocial.Name.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};;
opensocial.NavigationParameters=function(A){this.fields_=A||{}
};
opensocial.NavigationParameters.Field={VIEW:"view",OWNER:"owner",PARAMETERS:"parameters"};
opensocial.NavigationParameters.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};
opensocial.NavigationParameters.prototype.setField=function(A,B){return(this.fields_[A]=B)
};
opensocial.NavigationParameters.DestinationType={VIEWER_DESTINATION:"viewerDestination",RECIPIENT_DESTINATION:"recipientDestination"};;
opensocial.Organization=function(A){this.fields_=A||{}
};
opensocial.Organization.Field={NAME:"name",TITLE:"title",DESCRIPTION:"description",FIELD:"field",SUB_FIELD:"subField",START_DATE:"startDate",END_DATE:"endDate",SALARY:"salary",ADDRESS:"address",WEBPAGE:"webpage"};
opensocial.Organization.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};;
opensocial.Person=function(A,B,C){this.fields_=A||{};
this.isOwner_=B;
this.isViewer_=C
};
opensocial.Person.Field={ID:"id",NAME:"name",NICKNAME:"nickname",THUMBNAIL_URL:"thumbnailUrl",PROFILE_URL:"profileUrl",CURRENT_LOCATION:"currentLocation",ADDRESSES:"addresses",EMAILS:"emails",PHONE_NUMBERS:"phoneNumbers",ABOUT_ME:"aboutMe",STATUS:"status",PROFILE_SONG:"profileSong",PROFILE_VIDEO:"profileVideo",GENDER:"gender",SEXUAL_ORIENTATION:"sexualOrientation",RELATIONSHIP_STATUS:"relationshipStatus",AGE:"age",DATE_OF_BIRTH:"dateOfBirth",BODY_TYPE:"bodyType",ETHNICITY:"ethnicity",SMOKER:"smoker",DRINKER:"drinker",CHILDREN:"children",PETS:"pets",LIVING_ARRANGEMENT:"livingArrangement",TIME_ZONE:"timeZone",LANGUAGES_SPOKEN:"languagesSpoken",JOBS:"jobs",JOB_INTERESTS:"jobInterests",SCHOOLS:"schools",INTERESTS:"interests",URLS:"urls",MUSIC:"music",MOVIES:"movies",TV_SHOWS:"tvShows",BOOKS:"books",ACTIVITIES:"activities",SPORTS:"sports",HEROES:"heroes",QUOTES:"quotes",CARS:"cars",FOOD:"food",TURN_ONS:"turnOns",TURN_OFFS:"turnOffs",TAGS:"tags",ROMANCE:"romance",SCARED_OF:"scaredOf",HAPPIEST_WHEN:"happiestWhen",FASHION:"fashion",HUMOR:"humor",LOOKING_FOR:"lookingFor",RELIGION:"religion",POLITICAL_VIEWS:"politicalViews",HAS_APP:"hasApp",NETWORK_PRESENCE:"networkPresence"};
opensocial.Person.prototype.getId=function(){return this.getField(opensocial.Person.Field.ID)
};
var ORDERED_NAME_FIELDS_=[opensocial.Name.Field.HONORIFIC_PREFIX,opensocial.Name.Field.GIVEN_NAME,opensocial.Name.Field.FAMILY_NAME,opensocial.Name.Field.HONORIFIC_SUFFIX,opensocial.Name.Field.ADDITIONAL_NAME];
opensocial.Person.prototype.getDisplayName=function(){var B=this.getField(opensocial.Person.Field.NAME);
if(B){var E=B.getField(opensocial.Name.Field.UNSTRUCTURED);
if(E){return E
}var D="";
for(var C=0;
C<ORDERED_NAME_FIELDS_.length;
C++){var A=B.getField(ORDERED_NAME_FIELDS_[C]);
if(A){D+=A+" "
}}return D.replace(/^\s+|\s+$/g,"")
}return this.getField(opensocial.Person.Field.NICKNAME)
};
opensocial.Person.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};
opensocial.Person.prototype.getAppData=function(A){};
opensocial.Person.prototype.isViewer=function(){return !!this.isViewer_
};
opensocial.Person.prototype.isOwner=function(){return !!this.isOwner_
};;
opensocial.Phone=function(A){this.fields_=A||{}
};
opensocial.Phone.Field={TYPE:"type",NUMBER:"number"};
opensocial.Phone.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};;
opensocial.ResponseItem=function(A,C,B,D){this.originalDataRequest_=A;
this.data_=C;
this.errorCode_=B;
this.errorMessage_=D
};
opensocial.ResponseItem.prototype.hadError=function(){return !!this.errorCode_
};
opensocial.ResponseItem.Error={NOT_IMPLEMENTED:"notImplemented",UNAUTHORIZED:"unauthorized",FORBIDDEN:"forbidden",BAD_REQUEST:"badRequest",INTERNAL_ERROR:"internalError",LIMIT_EXCEEDED:"limitExceeded"};
opensocial.ResponseItem.prototype.getErrorCode=function(){return this.errorCode_
};
opensocial.ResponseItem.prototype.getErrorMessage=function(){return this.errorMessage_
};
opensocial.ResponseItem.prototype.getOriginalDataRequest=function(){return this.originalDataRequest_
};
opensocial.ResponseItem.prototype.getData=function(){return this.data_
};;
opensocial.Url=function(A){this.fields_=A||{}
};
opensocial.Url.Field={TYPE:"type",LINK_TEXT:"linkText",ADDRESS:"address"};
opensocial.Url.prototype.getField=function(A,B){return opensocial.Container.getField(this.fields_,A,B)
};;
var tamings___=tamings___||[];
tamings___.push(function(A){___.grantRead(opensocial.IdSpec,"PersonId");
___.grantRead(opensocial.DataRequest,"PeopleRequestFields");
___.grantRead(JsonRpcRequestItem,"rpc");
___.grantRead(JsonRpcRequestItem,"processData");
___.grantRead(JsonRpcRequestItem,"processResponse");
___.grantRead(JsonRpcRequestItem,"errors");
caja___.whitelistCtors([[window,"JsonRpcRequestItem",Object],[opensocial,"Activity",Object],[opensocial,"Address",Object],[opensocial,"BodyType",Object],[opensocial,"Container",Object],[opensocial,"Collection",Object],[opensocial,"DataRequest",Object],[opensocial,"DataResponse",Object],[opensocial,"Email",Object],[opensocial,"Enum",Object],[opensocial,"Environment",Object],[opensocial,"IdSpec",Object],[opensocial,"MediaItem",Object],[opensocial,"Message",Object],[opensocial,"Name",Object],[opensocial,"NavigationParameters",Object],[opensocial,"Organization",Object],[opensocial,"Person",Object],[opensocial,"Phone",Object],[opensocial,"ResponseItem",Object],[opensocial,"Url",Object]]);
caja___.whitelistMeths([[opensocial.Activity,"getField"],[opensocial.Activity,"getId"],[opensocial.Activity,"setField"],[opensocial.Address,"getField"],[opensocial.BodyType,"getField"],[opensocial.Container,"getEnvironment"],[opensocial.Container,"requestSendMessage"],[opensocial.Container,"requestShareApp"],[opensocial.Container,"requestCreateActivity"],[opensocial.Container,"hasPermission"],[opensocial.Container,"requestPermission"],[opensocial.Container,"requestData"],[opensocial.Container,"newFetchPersonRequest"],[opensocial.Container,"newFetchPeopleRequest"],[opensocial.Container,"newFetchPersonAppDataRequest"],[opensocial.Container,"newUpdatePersonAppDataRequest"],[opensocial.Container,"newRemovePersonAppDataRequest"],[opensocial.Container,"newFetchActivitiesRequest"],[opensocial.Container,"newFetchMessageCollectionsRequest"],[opensocial.Container,"newFetchMessagesRequest"],[opensocial.Container,"newCollection"],[opensocial.Container,"newPerson"],[opensocial.Container,"newActivity"],[opensocial.Container,"newMediaItem"],[opensocial.Container,"newMessage"],[opensocial.Container,"newIdSpec"],[opensocial.Container,"newNavigationParameters"],[opensocial.Container,"newResponseItem"],[opensocial.Container,"newDataResponse"],[opensocial.Container,"newDataRequest"],[opensocial.Container,"newEnvironment"],[opensocial.Container,"invalidateCache"],[opensocial.Collection,"asArray"],[opensocial.Collection,"each"],[opensocial.Collection,"getById"],[opensocial.Collection,"getOffset"],[opensocial.Collection,"getTotalSize"],[opensocial.Collection,"size"],[opensocial.DataRequest,"add"],[opensocial.DataRequest,"newFetchActivitiesRequest"],[opensocial.DataRequest,"newFetchPeopleRequest"],[opensocial.DataRequest,"newFetchPersonAppDataRequest"],[opensocial.DataRequest,"newFetchPersonRequest"],[opensocial.DataRequest,"newRemovePersonAppDataRequest"],[opensocial.DataRequest,"newUpdatePersonAppDataRequest"],[opensocial.DataRequest,"send"],[opensocial.DataResponse,"get"],[opensocial.DataResponse,"getErrorMessage"],[opensocial.DataResponse,"hadError"],[opensocial.Email,"getField"],[opensocial.Enum,"getDisplayValue"],[opensocial.Enum,"getKey"],[opensocial.Environment,"getDomain"],[opensocial.Environment,"supportsField"],[opensocial.IdSpec,"getField"],[opensocial.IdSpec,"setField"],[opensocial.MediaItem,"getField"],[opensocial.MediaItem,"setField"],[opensocial.Message,"getField"],[opensocial.Message,"setField"],[opensocial.Name,"getField"],[opensocial.NavigationParameters,"getField"],[opensocial.NavigationParameters,"setField"],[opensocial.Organization,"getField"],[opensocial.Person,"getDisplayName"],[opensocial.Person,"getField"],[opensocial.Person,"getId"],[opensocial.Person,"isOwner"],[opensocial.Person,"isViewer"],[opensocial.Phone,"getField"],[opensocial.ResponseItem,"getData"],[opensocial.ResponseItem,"getErrorCode"],[opensocial.ResponseItem,"getErrorMessage"],[opensocial.ResponseItem,"getOriginalDataRequest"],[opensocial.ResponseItem,"hadError"],[opensocial.Url,"getField"]]);
caja___.whitelistFuncs([[opensocial.Container,"setContainer"],[opensocial.Container,"get"],[opensocial.Container,"getField"],[opensocial,"getEnvironment"],[opensocial,"hasPermission"],[opensocial,"newActivity"],[opensocial,"newDataRequest"],[opensocial,"newIdSpec"],[opensocial,"newMediaItem"],[opensocial,"newMessage"],[opensocial,"newNavigationParameters"],[opensocial,"requestCreateActivity"],[opensocial,"requestPermission"],[opensocial,"requestSendMessage"],[opensocial,"requestShareApp"]])
});;
gadgets.rpc.register("update_security_token",function(A){shindig.auth.updateSecurityToken(A)
});;
var gadgets=gadgets||{};
(function(){var I=null;
var J={};
var F=gadgets.util.escapeString;
var D={};
var H={};
var E="en";
var B="US";
var A=0;
function C(){var L=gadgets.util.getUrlParameters();
for(var K in L){if(L.hasOwnProperty(K)){if(K.indexOf("up_")===0&&K.length>3){J[K.substr(3)]=String(L[K])
}else{if(K==="country"){B=L[K]
}else{if(K==="lang"){E=L[K]
}else{if(K==="mid"){A=L[K]
}}}}}}}function G(){for(var K in H){if(typeof J[K]==="undefined"){J[K]=H[K]
}}}gadgets.Prefs=function(){if(!I){C();
G();
I=this
}return I
};
gadgets.Prefs.setInternal_=function(M,O){var N=false;
if(typeof M==="string"){if(!J.hasOwnProperty(M)||J[M]!==O){N=true
}J[M]=O
}else{for(var L in M){if(M.hasOwnProperty(L)){var K=M[L];
if(!J.hasOwnProperty(L)||J[L]!==K){N=true
}J[L]=K
}}}return N
};
gadgets.Prefs.setMessages_=function(K){D=K
};
gadgets.Prefs.setDefaultPrefs_=function(K){H=K
};
gadgets.Prefs.prototype.getString=function(K){if(K===".lang"){K="lang"
}return J[K]?F(J[K]):""
};
gadgets.Prefs.prototype.setDontEscape_=function(){F=function(K){return K
}
};
gadgets.Prefs.prototype.getInt=function(K){var L=parseInt(J[K],10);
return isNaN(L)?0:L
};
gadgets.Prefs.prototype.getFloat=function(K){var L=parseFloat(J[K]);
return isNaN(L)?0:L
};
gadgets.Prefs.prototype.getBool=function(K){var L=J[K];
if(L){return L==="true"||L===true||!!parseInt(L,10)
}return false
};
gadgets.Prefs.prototype.set=function(K,L){throw new Error("setprefs feature required to make this call.")
};
gadgets.Prefs.prototype.getArray=function(N){var O=J[N];
if(O){var K=O.split("|");
for(var M=0,L=K.length;
M<L;
++M){K[M]=F(K[M].replace(/%7C/g,"|"))
}return K
}return[]
};
gadgets.Prefs.prototype.setArray=function(K,L){throw new Error("setprefs feature required to make this call.")
};
gadgets.Prefs.prototype.getMsg=function(K){return D[K]||""
};
gadgets.Prefs.prototype.getCountry=function(){return B
};
gadgets.Prefs.prototype.getLang=function(){return E
};
gadgets.Prefs.prototype.getModuleId=function(){return A
}
})();;
var tamings___=tamings___||[];
tamings___.push(function(A){caja___.whitelistCtors([[gadgets,"Prefs",Object]]);
caja___.whitelistMeths([[gadgets.Prefs,"getArray"],[gadgets.Prefs,"getBool"],[gadgets.Prefs,"getCountry"],[gadgets.Prefs,"getFloat"],[gadgets.Prefs,"getInt"],[gadgets.Prefs,"getLang"],[gadgets.Prefs,"getMsg"],[gadgets.Prefs,"getString"],[gadgets.Prefs,"set"],[gadgets.Prefs,"setArray"]])
});;
var gadgets=gadgets||{};
gadgets.io=function(){var config={};
var oauthState;
function makeXhr(){var x;
if(window.ActiveXObject){x=new ActiveXObject("Msxml2.XMLHTTP");
if(!x){x=new ActiveXObject("Microsoft.XMLHTTP")
}return x
}else{if(window.XMLHttpRequest){return new window.XMLHttpRequest()
}}}function hadError(xobj,callback){if(xobj.readyState!==4){return true
}try{if(xobj.status!==200){var error=(""+xobj.status);
if(xobj.responseText){error=error+" "+xobj.responseText
}callback({errors:[error],rc:xobj.status,text:xobj.responseText});
return true
}}catch(e){callback({errors:[e.number+" Error not specified"],rc:e.number,text:e.description});
return true
}return false
}function processNonProxiedResponse(url,callback,params,xobj){if(hadError(xobj,callback)){return 
}var data={body:xobj.responseText};
callback(transformResponseData(params,data))
}var UNPARSEABLE_CRUFT="throw 1; < don't be evil' >";
function processResponse(url,callback,params,xobj){if(hadError(xobj,callback)){return 
}var txt=xobj.responseText;
txt=txt.substr(UNPARSEABLE_CRUFT.length);
var data=eval("("+txt+")");
data=data[url];
if(data.oauthState){oauthState=data.oauthState
}if(data.st){shindig.auth.updateSecurityToken(data.st)
}callback(transformResponseData(params,data))
}function transformResponseData(params,data){var resp={text:data.body,rc:data.rc||200,headers:data.headers,oauthApprovalUrl:data.oauthApprovalUrl,oauthError:data.oauthError,oauthErrorText:data.oauthErrorText,errors:[]};
if(resp.rc<200||resp.rc>=400){resp.errors=[resp.rc+" Error"]
}else{if(resp.text){if(resp.rc>=300&&resp.rc<400){params.CONTENT_TYPE="TEXT"
}switch(params.CONTENT_TYPE){case"JSON":case"FEED":resp.data=gadgets.json.parse(resp.text);
if(!resp.data){resp.errors.push("500 Failed to parse JSON");
resp.rc=500;
resp.data=null
}break;
case"DOM":var dom;
if(window.ActiveXObject){dom=new ActiveXObject("Microsoft.XMLDOM");
dom.async=false;
dom.validateOnParse=false;
dom.resolveExternals=false;
if(!dom.loadXML(resp.text)){resp.errors.push("500 Failed to parse XML");
resp.rc=500
}else{resp.data=dom
}}else{var parser=new DOMParser();
dom=parser.parseFromString(resp.text,"text/xml");
if("parsererror"===dom.documentElement.nodeName){resp.errors.push("500 Failed to parse XML");
resp.rc=500
}else{resp.data=dom
}}break;
default:resp.data=resp.text;
break
}}}return resp
}function makeXhrRequest(realUrl,proxyUrl,callback,paramData,method,params,processResponseFunction,opt_contentType){var xhr=makeXhr();
if(proxyUrl.indexOf("//")==0){proxyUrl=document.location.protocol+proxyUrl
}xhr.open(method,proxyUrl,true);
if(callback){xhr.onreadystatechange=gadgets.util.makeClosure(null,processResponseFunction,realUrl,callback,params,xhr)
}if(paramData!==null){xhr.setRequestHeader("Content-Type",opt_contentType||"application/x-www-form-urlencoded");
xhr.send(paramData)
}else{xhr.send(null)
}}function respondWithPreload(postData,params,callback){if(gadgets.io.preloaded_&&postData.httpMethod==="GET"){for(var i=0;
i<gadgets.io.preloaded_.length;
i++){var preload=gadgets.io.preloaded_[i];
if(preload&&(preload.id===postData.url)){delete gadgets.io.preloaded_[i];
if(preload.rc!==200){callback({rc:preload.rc,errors:[preload.rc+" Error"]})
}else{if(preload.oauthState){oauthState=preload.oauthState
}var resp={body:preload.body,rc:preload.rc,headers:preload.headers,oauthApprovalUrl:preload.oauthApprovalUrl,oauthError:preload.oauthError,oauthErrorText:preload.oauthErrorText,errors:[]};
callback(transformResponseData(params,resp))
}return true
}}}return false
}function init(configuration){config=configuration["core.io"]||{}
}var requiredConfig={proxyUrl:new gadgets.config.RegExValidator(/.*%(raw)?url%.*/),jsonProxyUrl:gadgets.config.NonEmptyStringValidator};
gadgets.config.register("core.io",requiredConfig,init);
return{makeRequest:function(url,callback,opt_params){var params=opt_params||{};
var httpMethod=params.METHOD||"GET";
var refreshInterval=params.REFRESH_INTERVAL;
var auth,st;
if(params.AUTHORIZATION&&params.AUTHORIZATION!=="NONE"){auth=params.AUTHORIZATION.toLowerCase();
st=shindig.auth.getSecurityToken()
}else{if(httpMethod==="GET"&&refreshInterval===undefined){refreshInterval=3600
}}var signOwner=true;
if(typeof params.OWNER_SIGNED!=="undefined"){signOwner=params.OWNER_SIGNED
}var signViewer=true;
if(typeof params.VIEWER_SIGNED!=="undefined"){signViewer=params.VIEWER_SIGNED
}var headers=params.HEADERS||{};
if(httpMethod==="POST"&&!headers["Content-Type"]){headers["Content-Type"]="application/x-www-form-urlencoded"
}var urlParams=gadgets.util.getUrlParameters();
var paramData={url:url,httpMethod:httpMethod,headers:gadgets.io.encodeValues(headers,false),postData:params.POST_DATA||"",authz:auth||"",st:st||"",contentType:params.CONTENT_TYPE||"TEXT",numEntries:params.NUM_ENTRIES||"3",getSummaries:!!params.GET_SUMMARIES,signOwner:signOwner,signViewer:signViewer,gadget:urlParams.url,container:urlParams.container||urlParams.synd||"default",bypassSpecCache:gadgets.util.getUrlParameters().nocache||""};
if(auth==="oauth"||auth==="signed"){if(gadgets.io.oauthReceivedCallbackUrl_){paramData.OAUTH_RECEIVED_CALLBACK=gadgets.io.oauthReceivedCallbackUrl_;
gadgets.io.oauthReceivedCallbackUrl_=null
}paramData.oauthState=oauthState||"";
for(opt in params){if(params.hasOwnProperty(opt)){if(opt.indexOf("OAUTH_")===0){paramData[opt]=params[opt]
}}}}var proxyUrl=config.jsonProxyUrl.replace("%host%",document.location.host);
if(!respondWithPreload(paramData,params,callback,processResponse)){if(httpMethod==="GET"&&refreshInterval>0){var extraparams="?refresh="+refreshInterval+"&"+gadgets.io.encodeValues(paramData);
makeXhrRequest(url,proxyUrl+extraparams,callback,null,"GET",params,processResponse)
}else{makeXhrRequest(url,proxyUrl,callback,gadgets.io.encodeValues(paramData),"POST",params,processResponse)
}}},makeNonProxiedRequest:function(relativeUrl,callback,opt_params,opt_contentType){var params=opt_params||{};
makeXhrRequest(relativeUrl,relativeUrl,callback,params.POST_DATA,params.METHOD,params,processNonProxiedResponse,opt_contentType)
},clearOAuthState:function(){oauthState=undefined
},encodeValues:function(fields,opt_noEscaping){var escape=!opt_noEscaping;
var buf=[];
var first=false;
for(var i in fields){if(fields.hasOwnProperty(i)){if(!first){first=true
}else{buf.push("&")
}buf.push(escape?encodeURIComponent(i):i);
buf.push("=");
buf.push(escape?encodeURIComponent(fields[i]):fields[i])
}}return buf.join("")
},getProxyUrl:function(url,opt_params){var params=opt_params||{};
var refresh=params.REFRESH_INTERVAL;
if(refresh===undefined){refresh="3600"
}var urlParams=gadgets.util.getUrlParameters();
var rewriteMimeParam=params.rewriteMime?"&rewriteMime="+encodeURIComponent(params.rewriteMime):"";
return config.proxyUrl.replace("%url%",encodeURIComponent(url)).replace("%host%",document.location.host).replace("%rawurl%",url).replace("%refresh%",encodeURIComponent(refresh)).replace("%gadget%",encodeURIComponent(urlParams.url)).replace("%container%",encodeURIComponent(urlParams.container||urlParams.synd)).replace("%rewriteMime%",rewriteMimeParam)
}}
}();
gadgets.io.RequestParameters=gadgets.util.makeEnum(["METHOD","CONTENT_TYPE","POST_DATA","HEADERS","AUTHORIZATION","NUM_ENTRIES","GET_SUMMARIES","REFRESH_INTERVAL","OAUTH_SERVICE_NAME","OAUTH_USE_TOKEN","OAUTH_TOKEN_NAME","OAUTH_REQUEST_TOKEN","OAUTH_REQUEST_TOKEN_SECRET","OAUTH_RECEIVED_CALLBACK"]);
gadgets.io.MethodType=gadgets.util.makeEnum(["GET","POST","PUT","DELETE","HEAD"]);
gadgets.io.ContentType=gadgets.util.makeEnum(["TEXT","DOM","JSON","FEED"]);
gadgets.io.AuthorizationType=gadgets.util.makeEnum(["NONE","SIGNED","OAUTH"]);;
var tamings___=tamings___||[];
tamings___.push(function(A){caja___.whitelistFuncs([[gadgets.io,"encodeValues"],[gadgets.io,"getProxyUrl"],[gadgets.io,"makeRequest"]])
});;
var FieldTranslations={};
FieldTranslations.translateServerPersonToJsPerson=function(H,B){if(H.emails){for(var E=0;
E<H.emails.length;
E++){H.emails[E].address=H.emails[E].value
}}if(H.phoneNumbers){for(var A=0;
A<H.phoneNumbers.length;
A++){H.phoneNumbers[A].number=H.phoneNumbers[A].value
}}if(H.birthday){H.dateOfBirth=H.birthday
}if(H.utcOffset){H.timeZone=H.utcOffset
}if(H.addresses){for(var D=0;
D<H.addresses.length;
D++){H.addresses[D].unstructuredAddress=H.addresses[D].formatted
}}if(H.gender){var F=H.gender=="male"?"MALE":(H.gender=="female")?"FEMALE":null;
H.gender={key:F,displayValue:H.gender}
}FieldTranslations.translateUrlJson(H.profileSong);
FieldTranslations.translateUrlJson(H.profileVideo);
if(H.urls){for(var G=0;
G<H.urls.length;
G++){FieldTranslations.translateUrlJson(H.urls[G])
}}FieldTranslations.translateEnumJson(H.drinker);
FieldTranslations.translateEnumJson(H.lookingFor);
FieldTranslations.translateEnumJson(H.networkPresence);
FieldTranslations.translateEnumJson(H.smoker);
if(H.organizations){H.jobs=[];
H.schools=[];
for(var C=0;
C<H.organizations.length;
C++){var I=H.organizations[C];
if(I.type=="job"){H.jobs.push(I)
}else{if(I.type=="school"){H.schools.push(I)
}}}}if(H.name){H.name.unstructured=H.name.formatted
}if(H.appData){H.appData=opensocial.Container.escape(H.appData,B,true)
}};
FieldTranslations.translateEnumJson=function(A){if(A){A.key=A.value
}};
FieldTranslations.translateUrlJson=function(A){if(A){A.address=A.value
}};
FieldTranslations.translateJsPersonFieldsToServerFields=function(A){for(var B=0;
B<A.length;
B++){if(A[B]=="dateOfBirth"){A[B]="birthday"
}else{if(A[B]=="timeZone"){A[B]="utcOffset"
}else{if(A[B]=="jobs"){A[B]="organizations"
}else{if(A[B]=="schools"){A[B]="organizations"
}}}}}A.push("id");
A.push("displayName")
};
FieldTranslations.translateIsoStringToDate=function(A){var C="([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?";
var E=A.match(new RegExp(C));
var D=0;
var B=new Date(E[1],0,1);
if(E[3]){B.setMonth(E[3]-1)
}if(E[5]){B.setDate(E[5])
}if(E[7]){B.setHours(E[7])
}if(E[8]){B.setMinutes(E[8])
}if(E[10]){B.setSeconds(E[10])
}if(E[12]){B.setMilliseconds(Number("0."+E[12])*1000)
}if(E[14]){D=(Number(E[16])*60)+Number(E[17]);
D*=((E[15]=="-")?1:-1)
}D-=B.getTimezoneOffset();
time=(Number(B)+(D*60*1000));
return new Date(Number(time))
};
FieldTranslations.addAppDataAsProfileFields=function(D){if(D){if(D.appData){var A=D.appData;
if(typeof A==="string"){A=[A]
}var C=D.profileDetail||[];
for(var B=0;
B<A.length;
B++){if(A[B]==="*"){C.push("appData")
}else{C.push("appData."+A[B])
}}D.appData=A
}}};
FieldTranslations.translateStandardArguments=function(B,A){if(B.first){A.startIndex=B.first
}if(B.max){A.count=B.max
}if(B.sortOrder){A.sortBy=B.sortOrder
}if(B.filter){A.filterBy=B.filter
}if(B.filterOp){A.filterOp=B.filterOp
}if(B.filterValue){A.filterValue=B.filterValue
}if(B.fields){A.fields=B.fields
}};
FieldTranslations.translateNetworkDistance=function(A,B){if(A.getField("networkDistance")){B.networkDistance=A.getField("networkDistance")
}};;
var JsonActivity=function(A,B){A=A||{};
if(!B){JsonActivity.constructArrayObject(A,"mediaItems",JsonMediaItem)
}opensocial.Activity.call(this,A)
};
JsonActivity.inherits(opensocial.Activity);
JsonActivity.prototype.toJsonObject=function(){var C=JsonActivity.copyFields(this.fields_);
var D=C.mediaItems||[];
var A=[];
for(var B=0;
B<D.length;
B++){A[B]=D[B].toJsonObject()
}C.mediaItems=A;
return C
};
var JsonMediaItem=function(A){opensocial.MediaItem.call(this,A.mimeType,A.url,A)
};
JsonMediaItem.inherits(opensocial.MediaItem);
JsonMediaItem.prototype.toJsonObject=function(){return JsonActivity.copyFields(this.fields_)
};
JsonActivity.constructArrayObject=function(D,E,B){var C=D[E];
if(C){for(var A=0;
A<C.length;
A++){C[A]=new B(C[A])
}}};
JsonActivity.copyFields=function(A){var B={};
for(var C in A){B[C]=A[C]
}return B
};;
var JsonPerson=function(A){A=A||{};
JsonPerson.constructObject(A,"bodyType",opensocial.BodyType);
JsonPerson.constructObject(A,"currentLocation",opensocial.Address);
JsonPerson.constructObject(A,"name",opensocial.Name);
JsonPerson.constructObject(A,"profileSong",opensocial.Url);
JsonPerson.constructObject(A,"profileVideo",opensocial.Url);
JsonPerson.constructDate(A,"dateOfBirth");
JsonPerson.constructArrayObject(A,"addresses",opensocial.Address);
JsonPerson.constructArrayObject(A,"emails",opensocial.Email);
JsonPerson.constructArrayObject(A,"jobs",opensocial.Organization);
JsonPerson.constructArrayObject(A,"phoneNumbers",opensocial.Phone);
JsonPerson.constructArrayObject(A,"schools",opensocial.Organization);
JsonPerson.constructArrayObject(A,"urls",opensocial.Url);
JsonPerson.constructEnum(A,"gender");
JsonPerson.constructEnum(A,"smoker");
JsonPerson.constructEnum(A,"drinker");
JsonPerson.constructEnum(A,"networkPresence");
JsonPerson.constructEnumArray(A,"lookingFor");
opensocial.Person.call(this,A,A.isOwner,A.isViewer)
};
JsonPerson.inherits(opensocial.Person);
JsonPerson.constructEnum=function(B,C){var A=B[C];
if(A){B[C]=new opensocial.Enum(A.key,A.displayValue)
}};
JsonPerson.constructEnumArray=function(C,D){var B=C[D];
if(B){for(var A=0;
A<B.length;
A++){B[A]=new opensocial.Enum(B[A].key,B[A].displayValue)
}}};
JsonPerson.constructObject=function(C,D,A){var B=C[D];
if(B){C[D]=new A(B)
}};
JsonPerson.constructDate=function(B,C){var A=B[C];
if(A){B[C]=FieldTranslations.translateIsoStringToDate(A)
}};
JsonPerson.constructArrayObject=function(D,E,B){var C=D[E];
if(C){for(var A=0;
A<C.length;
A++){C[A]=new B(C[A])
}}};
JsonPerson.prototype.getDisplayName=function(){return this.getField("displayName")
};
JsonPerson.prototype.getAppData=function(B){var A=this.getField("appData");
return A&&A[B]
};;
var JsonMessageCollection=function(A){A=A||{};
opensocial.MessageCollection.call(this,A)
};
JsonMessageCollection.inherits(opensocial.MessageCollection);
JsonMessageCollection.prototype.toJsonObject=function(){return JsonMessageCollection.copyFields(this.fields_)
};
JsonMessageCollection.copyFields=function(A){var B={};
for(var C in A){B[C]=A[C]
}return B
};;
var JsonMessage=function(A,B){B=B||{};
opensocial.Message.call(this,A,B)
};
JsonMessage.inherits(opensocial.Message);
JsonMessage.prototype.toJsonObject=function(){return JsonMessage.copyFields(this.fields_)
};
JsonMessage.copyFields=function(A){var B={};
for(var C in A){B[C]=A[C]
}return B
};;
var JsonRpcContainer=function(C){opensocial.Container.call(this);
var H=C.path;
this.path_=H.replace("%host%",document.location.host);
var F=C.invalidatePath;
this.invalidatePath_=F.replace("%host%",document.location.host);
var G=C.supportedFields;
var E={};
for(var B in G){if(G.hasOwnProperty(B)){E[B]={};
for(var D=0;
D<G[B].length;
D++){var A=G[B][D];
E[B][A]=true
}}}this.environment_=new opensocial.Environment(C.domain,E);
this.securityToken_=shindig.auth.getSecurityToken();
gadgets.rpc.register("shindig.requestShareApp_callback",JsonRpcContainer.requestShareAppCallback_)
};
var JsonRpcRequestItem=function(B,A){this.rpc=B;
this.processData=A||function(C){return C
};
this.processResponse=function(C,F,E,D){var G=E?JsonRpcContainer.translateHttpError(E.code):null;
return new opensocial.ResponseItem(C,E?null:this.processData(F),G,D)
}
};
(function(){var A={};
JsonRpcContainer.inherits(opensocial.Container);
JsonRpcContainer.prototype.getEnvironment=function(){return this.environment_
};
JsonRpcContainer.prototype.requestShareApp=function(F,H,C,D){var E="cId_"+Math.random();
A[E]=C;
var B=gadgets.util.unescapeString(H.getField(opensocial.Message.Field.BODY));
if(!B||B.length===0){var G=gadgets.util.unescapeString(H.getField(opensocial.Message.Field.BODY_ID));
B=gadgets.Prefs.getMsg(G)
}gadgets.rpc.call("..","shindig.requestShareApp",null,E,F,B)
};
JsonRpcContainer.requestShareAppCallback_=function(F,G,C,E){callback=A[F];
if(callback){A[F]=null;
var D=null;
if(E){D={recipientIds:E}
}var B=new opensocial.ResponseItem(null,D,C);
callback(B)
}};
JsonRpcContainer.prototype.requestCreateActivity=function(E,C,B){B=B||function(){};
var D=opensocial.newDataRequest();
var F=opensocial.newIdSpec({userId:"VIEWER"});
D.add(this.newCreateActivityRequest(F,E),"key");
D.send(function(G){B(G.get("key"))
})
};
JsonRpcContainer.prototype.requestData=function(G,K){K=K||function(){};
var E=G.getRequestObjects();
var I=E.length;
if(I===0){window.setTimeout(function(){K(new opensocial.DataResponse({},true))
},0);
return 
}var L=new Array(I);
for(var F=0;
F<I;
F++){var J=E[F];
L[F]=J.request.rpc;
if(J.key){L[F].id=J.key
}}var C=function(X){if(X.errors[0]){JsonRpcContainer.generateErrorResponse(X,E,K);
return 
}X=X.data;
var N=false;
var W={};
for(var R=0;
R<X.length;
R++){X[X[R].id]=X[R]
}for(var O=0;
O<E.length;
O++){var Q=E[O];
var P=X[O];
if(Q.key&&P.id!==Q.key){throw"Request key("+Q.key+") and response id("+P.id+") do not match"
}var M=P.data;
var U=P.error;
var T="";
if(U){T=U.message
}var S=Q.request.processResponse(Q.request,M,U,T);
N=N||S.hadError();
if(Q.key){W[Q.key]=S
}}var V=new opensocial.DataResponse(W,N);
K(V)
};
var H={CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED",POST_DATA:gadgets.json.stringify(L)};
var B=[this.path_];
var D=shindig.auth.getSecurityToken();
if(D){B.push("?st=",encodeURIComponent(D))
}this.sendRequest(B.join(""),C,H,"application/json")
};
JsonRpcContainer.prototype.sendRequest=function(B,E,C,D){gadgets.io.makeNonProxiedRequest(B,E,C,D)
};
JsonRpcContainer.generateErrorResponse=function(B,E,G){var C=JsonRpcContainer.translateHttpError(B.rc||B.data.error)||opensocial.ResponseItem.Error.INTERNAL_ERROR;
var F={};
for(var D=0;
D<E.length;
D++){F[E[D].key]=new opensocial.ResponseItem(E[D].request,null,C)
}G(new opensocial.DataResponse(F,true))
};
JsonRpcContainer.translateHttpError=function(B){if(B==501){return opensocial.ResponseItem.Error.NOT_IMPLEMENTED
}else{if(B==401){return opensocial.ResponseItem.Error.UNAUTHORIZED
}else{if(B==403){return opensocial.ResponseItem.Error.FORBIDDEN
}else{if(B==400){return opensocial.ResponseItem.Error.BAD_REQUEST
}else{if(B==500){return opensocial.ResponseItem.Error.INTERNAL_ERROR
}else{if(B==404){return opensocial.ResponseItem.Error.BAD_REQUEST
}else{if(B==417){return opensocial.ResponseItem.Error.LIMIT_EXCEEDED
}}}}}}}};
JsonRpcContainer.prototype.makeIdSpec=function(B){return opensocial.newIdSpec({userId:B})
};
JsonRpcContainer.prototype.translateIdSpec=function(B){var E=B.getField("userId");
var D=B.getField("groupId");
if(!opensocial.Container.isArray(E)){E=[E]
}for(var C=0;
C<E.length;
C++){if(E[C]==="OWNER"){E[C]="@owner"
}else{if(E[C]==="VIEWER"){E[C]="@viewer"
}}}if(D==="FRIENDS"){D="@friends"
}else{if(D==="SELF"||!D){D="@self"
}}return{userId:E,groupId:D}
};
JsonRpcContainer.prototype.newFetchPersonRequest=function(E,D){var B=this.newFetchPeopleRequest(this.makeIdSpec(E),D);
var C=this;
return new JsonRpcRequestItem(B.rpc,function(F){return C.createPersonFromJson(F,D)
})
};
JsonRpcContainer.prototype.newFetchPeopleRequest=function(B,D){var E={method:"people.get"};
E.params=this.translateIdSpec(B);
FieldTranslations.addAppDataAsProfileFields(D);
FieldTranslations.translateStandardArguments(D,E.params);
FieldTranslations.translateNetworkDistance(B,E.params);
if(D.profileDetail){FieldTranslations.translateJsPersonFieldsToServerFields(D.profileDetail);
E.params.fields=D.profileDetail
}var C=this;
return new JsonRpcRequestItem(E,function(I){var H;
if(I.list){H=I.list
}else{H=[I]
}var G=[];
for(var F=0;
F<H.length;
F++){G.push(C.createPersonFromJson(H[F],D))
}return new opensocial.Collection(G,I.startIndex,I.totalResults)
})
};
JsonRpcContainer.prototype.createPersonFromJson=function(B,C){FieldTranslations.translateServerPersonToJsPerson(B,C);
return new JsonPerson(B)
};
JsonRpcContainer.prototype.getFieldsList=function(B){if(this.hasNoKeys(B)||this.isWildcardKey(B[0])){return[]
}else{return B
}};
JsonRpcContainer.prototype.hasNoKeys=function(B){return !B||B.length===0
};
JsonRpcContainer.prototype.isWildcardKey=function(B){return B==="*"
};
JsonRpcContainer.prototype.newFetchPersonAppDataRequest=function(B,D,C){var E={method:"appdata.get"};
E.params=this.translateIdSpec(B);
E.params.appId="@app";
E.params.fields=this.getFieldsList(D);
FieldTranslations.translateNetworkDistance(B,E.params);
return new JsonRpcRequestItem(E,function(F){return opensocial.Container.escape(F,C,true)
})
};
JsonRpcContainer.prototype.newUpdatePersonAppDataRequest=function(B,C){var D={method:"appdata.update"};
D.params={userId:["@viewer"],groupId:"@self"};
D.params.appId="@app";
D.params.data={};
D.params.data[B]=C;
D.params.fields=B;
return new JsonRpcRequestItem(D)
};
JsonRpcContainer.prototype.newRemovePersonAppDataRequest=function(B){var C={method:"appdata.delete"};
C.params={userId:["@viewer"],groupId:"@self"};
C.params.appId="@app";
C.params.fields=this.getFieldsList(B);
return new JsonRpcRequestItem(C)
};
JsonRpcContainer.prototype.newFetchActivitiesRequest=function(B,C){var D={method:"activities.get"};
D.params=this.translateIdSpec(B);
D.params.appId="@app";
FieldTranslations.translateStandardArguments(C,D.params);
FieldTranslations.translateNetworkDistance(B,D.params);
return new JsonRpcRequestItem(D,function(F){F=F.list;
var G=[];
for(var E=0;
E<F.length;
E++){G.push(new JsonActivity(F[E]))
}return new opensocial.Collection(G)
})
};
JsonRpcContainer.prototype.newActivity=function(B){return new JsonActivity(B,true)
};
JsonRpcContainer.prototype.newMediaItem=function(D,B,C){C=C||{};
C.mimeType=D;
C.url=B;
return new JsonMediaItem(C)
};
JsonRpcContainer.prototype.newCreateActivityRequest=function(B,C){var D={method:"activities.create"};
D.params=this.translateIdSpec(B);
D.params.appId="@app";
FieldTranslations.translateNetworkDistance(B,D.params);
D.params.activity=C.toJsonObject();
return new JsonRpcRequestItem(D)
};
JsonRpcContainer.prototype.invalidateCache=function(){var F={method:"cache.invalidate"};
var C={invalidationKeys:["@viewer"]};
F.params=C;
var E={CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED",POST_DATA:gadgets.json.stringify(F)};
var B=[this.invalidatePath_];
var D=shindig.auth.getSecurityToken();
if(D){B.push("?st=",encodeURIComponent(D))
}this.sendRequest(B.join(""),null,E,"application/json")
}
})();
JsonRpcContainer.prototype.newMessage=function(A,B){return new JsonMessage(A,B)
};
JsonRpcContainer.prototype.newMessageCollection=function(A){return new JsonMessageCollection(A)
};
JsonRpcContainer.prototype.newFetchMessageCollectionsRequest=function(A,B){var C={method:"messages.get"};
C.params=this.translateIdSpec(A);
return new JsonRpcRequestItem(C,function(E){E=E.list;
var F=[];
for(var D=0;
D<E.length;
D++){F.push(new JsonMessageCollection(E[D]))
}return new opensocial.Collection(F)
})
};
JsonRpcContainer.prototype.newFetchMessagesRequest=function(A,C,B){var D={method:"messages.get"};
D.params=this.translateIdSpec(A);
D.params.msgCollId=C;
return new JsonRpcRequestItem(D,function(G){G=G.list;
var F=[];
for(var E=0;
E<G.length;
E++){F.push(new JsonMessage(G[E]))
}return new opensocial.Collection(F)
})
};;

      var requiredConfig = {
        "path": gadgets.config.NonEmptyStringValidator,
        "domain": gadgets.config.NonEmptyStringValidator,
        "supportedFields": gadgets.config.ExistsValidator,
        "invalidatePath": gadgets.config.ExistsValidator
      };

      gadgets.config.register("opensocial", requiredConfig,
        function(config) {
          var configParams = config["opensocial"];
          opensocial.Container.setContainer(new JsonRpcContainer(configParams));
          if (window['caja']) {
            opensocial.Container.get().enableCaja();
          }
      });
    ;
var opensocial=opensocial||{};
opensocial.data=opensocial.data||{};
opensocial.data.DataContext=function(){var E=[];
var B={};
var A=function(I,K,J){if(typeof K==="undefined"||K===null){return 
}B[I]=K;
if(!(J===false)){C(I)
}};
var G=function(K,O,M,N){var I=!!M;
var L={keys:{},callback:O,oneTime:I};
if(typeof K==="string"){L.keys[K]=true;
if(K!="*"){K=[K]
}}else{for(var J=0;
J<K.length;
J++){L.keys[K[J]]=true
}}E.push(L);
if(N&&K!=="*"&&H(L.keys)){window.setTimeout(function(){F(L,K)
},1)
}};
var H=function(J){if(J["*"]){return true
}for(var I in J){if(typeof B[I]==="undefined"){return false
}}return true
};
var F=function(J,I){if(H(J.keys)){J.callback(I);
if(J.oneTime){D(J)
}}};
var D=function(J){for(var I=0;
I<E.length;
++I){if(E[I]==J){E.splice(I,1);
return 
}}};
var C=function(L){if(typeof (L)=="string"){L=[L]
}for(var K=0;
K<E.length;
++K){var M=E[K];
for(var I=0;
I<L.length;
I++){var J=L[I];
if(M.keys[J]||M.keys["*"]){F(M,L);
break
}}}};
return{getData:function(){var J={};
for(var I in B){if(B.hasOwnProperty(I)){J[I]=B[I]
}}return J
},registerListener:function(I,J){G(I,J,false,true)
},registerOneTimeListener_:function(I,J){G(I,J,true,true)
},registerDeferredListener_:function(I,J){G(I,J,false,false)
},getDataSet:function(I){return B[I]
},putDataSet:function(I,J){A(I,J,true)
},putDataSets:function(I){var K=[];
for(var J in I){K.push(J);
A(J,I[J],false)
}C(K)
}}
}();
opensocial.data.getDataContext=function(){return opensocial.data.DataContext
};;
opensocial.DataRequest.prototype.newUpdatePersonAppDataRequest_09=opensocial.DataRequest.prototype.newUpdatePersonAppDataRequest;
opensocial.DataRequest.prototype.newUpdatePersonAppDataRequest=function(C,A,B){if(C!==opensocial.IdSpec.PersonId.VIEWER){throw Error("Cannot update app data for person "+C)
}return this.newUpdatePersonAppDataRequest_09(A,B)
};
opensocial.DataRequest.prototype.newRemovePersonAppDataRequest_09=opensocial.DataRequest.prototype.newRemovePersonAppDataRequest;
opensocial.DataRequest.prototype.newRemovePersonAppDataRequest=function(B,A){if(B!==opensocial.IdSpec.PersonId.VIEWER){throw Error("Cannot remove app data for person "+B)
}return this.newRemovePersonAppDataRequest_09(A)
};;
var opensocial=opensocial||{};
opensocial.xmlutil=opensocial.xmlutil||{};
opensocial.xmlutil.parser_=null;
opensocial.xmlutil.parseXML=function(B){if(typeof (DOMParser)!="undefined"){opensocial.xmlutil.parser_=opensocial.xmlutil.parser_||new DOMParser();
var A=opensocial.xmlutil.parser_.parseFromString(B,"text/xml");
if(A.firstChild&&A.firstChild.tagName=="parsererror"){throw Error(A.firstChild.firstChild.nodeValue)
}return A
}else{if(typeof (ActiveXObject)!="undefined"){var A=new ActiveXObject("MSXML2.DomDocument");
A.validateOnParse=false;
A.loadXML(B);
if(A.parseError&&A.parseError.errorCode){throw Error(A.parseError.reason)
}return A
}}throw Error("No XML parser found in this browser.")
};
opensocial.xmlutil.NSMAP={os:"http://opensocial.org/"};
opensocial.xmlutil.getRequiredNamespaces=function(B,A){var D=A?opensocial.xmlutil.getNamespaceDeclarations_(A):{};
for(var C in opensocial.xmlutil.NSMAP){if(opensocial.xmlutil.NSMAP.hasOwnProperty(C)&&!D.hasOwnProperty(C)&&B.indexOf("<"+C+":")>=0&&B.indexOf("xmlns:"+C+":")<0){D[C]=opensocial.xmlutil.NSMAP[C]
}}return opensocial.xmlutil.serializeNamespaces_(D)
};
opensocial.xmlutil.serializeNamespaces_=function(C){var A=[];
for(var B in C){if(C.hasOwnProperty(B)){A.push(" xmlns:",B,'="',C[B],'"')
}}return A.join("")
};
opensocial.xmlutil.getNamespaceDeclarations_=function(C){var D={};
for(var B=0;
B<C.attributes.length;
B++){var A=C.attributes[B].nodeName;
if(A.substring(0,6)!="xmlns:"){continue
}D[A.substring(6,A.length)]=C.getAttribute(A)
}return D
};
opensocial.xmlutil.ENTITIES='<!ENTITY nbsp "&#160;">';
opensocial.xmlutil.prepareXML=function(B,A){var C=opensocial.xmlutil.getRequiredNamespaces(B,A);
return"<!DOCTYPE root ["+opensocial.xmlutil.ENTITIES+']><root xml:space="preserve"'+C+">"+B+"</root>"
};;
opensocial.data.ATTR_KEY="key";
opensocial.data.SCRIPT_TYPE="text/os-data";
opensocial.data.NSMAP={};
opensocial.data.VAR_REGEX=/^([\w\W]*?)(\$\{[^\}]*\})([\w\W]*)$/;
opensocial.data.RequestDescriptor=function(C){this.tagName=C.tagName;
this.tagParts=this.tagName.split(":");
this.attributes={};
this.dependencies=false;
for(var B=0;
B<C.attributes.length;
++B){var A=C.attributes[B].nodeName;
if(A){var D=C.getAttribute(A);
if(A&&D){this.attributes[A]=D;
this.computeNeededKeys_(D)
}}}this.key=this.attributes[opensocial.data.ATTR_KEY];
this.register_()
};
opensocial.data.RequestDescriptor.prototype.hasAttribute=function(A){return !!this.attributes[A]
};
opensocial.data.RequestDescriptor.prototype.getAttribute=function(B){var A=this.attributes[B];
if(!A){return A
}var C=opensocial.data.parseExpression_(A);
if(!C){return A
}return opensocial.data.DataContext.evalExpression(C)
};
opensocial.data.parseExpression_=function(C){if(!C.length){return null
}var A=opensocial.data.VAR_REGEX;
var F=C;
var E=[];
var B=F.match(A);
if(!B){return null
}while(B){if(B[1].length>0){E.push(opensocial.data.transformLiteral_(B[1]))
}var D=B[2].substring(2,B[2].length-1);
E.push("("+D+")");
F=B[3];
B=F.match(A)
}if(F.length>0){E.push(opensocial.data.transformLiteral_(F))
}return E.join("+")
};
opensocial.data.transformLiteral_=function(A){return"'"+A.replace(/'/g,"\\'").replace(/\n/g," ")+"'"
};
opensocial.data.RequestDescriptor.prototype.sendRequest=function(){var B=opensocial.data.NSMAP[this.tagParts[0]];
var A=null;
if(B){A=B[this.tagParts[1]]
}if(!A){throw Error("Data handler undefined for "+this.tagName)
}A(this)
};
opensocial.data.RequestDescriptor.prototype.getSendRequestClosure=function(){var A=this;
return function(){A.sendRequest()
}
};
opensocial.data.RequestDescriptor.prototype.computeNeededKeys_=function(E){var A=opensocial.data.VAR_REGEX;
var B=E.match(A);
while(B){var D=B[2].substring(2,B[2].length-1);
var C=D.split(".")[0];
if(!this.neededKeys){this.neededKeys={}
}this.neededKeys[C]=true;
B=B[3].match(A)
}};
opensocial.data.RequestDescriptor.prototype.register_=function(){opensocial.data.registerRequestDescriptor(this)
};
opensocial.data.DataContext.evalExpression=function(A){return(new Function("context","with (context) return "+A))(opensocial.data.DataContext.getData())
};
opensocial.data.requests_={};
opensocial.data.registerRequestDescriptor=function(A){if(opensocial.data.requests_[A.key]){throw Error("Request already registered for "+A.key)
}opensocial.data.requests_[A.key]=A
};
opensocial.data.currentAPIRequest_=null;
opensocial.data.currentAPIRequestKeys_=null;
opensocial.data.currentAPIRequestCallbacks_=null;
opensocial.data.getCurrentAPIRequest=function(){if(!opensocial.data.currentAPIRequest_){opensocial.data.currentAPIRequest_=opensocial.newDataRequest();
opensocial.data.currentAPIRequestKeys_=[];
opensocial.data.currentAPIRequestCallbacks_={}
}return opensocial.data.currentAPIRequest_
};
opensocial.data.addToCurrentAPIRequest=function(C,B,A){opensocial.data.getCurrentAPIRequest().add(C,B);
opensocial.data.currentAPIRequestKeys_.push(B);
if(A){opensocial.data.currentAPIRequestCallbacks_[B]=A
}window.setTimeout(opensocial.data.sendCurrentAPIRequest_,0)
};
opensocial.data.sendCurrentAPIRequest_=function(){if(opensocial.data.currentAPIRequest_){opensocial.data.currentAPIRequest_.send(opensocial.data.createSharedRequestCallback_());
opensocial.data.currentAPIRequest_=null
}};
opensocial.data.createSharedRequestCallback_=function(){var B=opensocial.data.currentAPIRequestKeys_;
var A=opensocial.data.currentAPIRequestCallbacks_;
return function(C){opensocial.data.onAPIResponse(C,B,A)
}
};
opensocial.data.onAPIResponse=function(C,F,E){for(var B=0;
B<F.length;
B++){var A=F[B];
var D=C.get(A);
if(!D.hadError()){var G=opensocial.data.extractJson_(D,A);
if(E[A]){E[A](A,G)
}else{opensocial.data.DataContext.putDataSet(A,G)
}}}};
opensocial.data.extractJson_=function(E,D){var G=E.getData();
if(G.array_){var A=[];
for(var C=0;
C<G.array_.length;
C++){A.push(G.array_[C].fields_)
}G=A;
var F=opensocial.data.requests_[D];
if(F.tagName=="os:PeopleRequest"){var B=F.getAttribute("groupId");
if((!B||B=="@self")&&G.length==1){G=G[0]
}}}else{G=G.fields_||G
}return G
};
opensocial.data.registerRequestHandler=function(B,D){var A=B.split(":");
var C=opensocial.data.NSMAP[A[0]];
if(!C){if(!opensocial.xmlutil.NSMAP[A[0]]){opensocial.xmlutil.NSMAP[A[0]]=null
}C=opensocial.data.NSMAP[A[0]]={}
}else{if(C[A[1]]){throw Error("Request handler "+A[1]+" is already defined.")
}}C[A[1]]=D
};
opensocial.data.processDocumentMarkup=function(D){var E=D||document;
var A=E.getElementsByTagName("script");
for(var B=0;
B<A.length;
++B){var C=A[B];
if(C.type==opensocial.data.SCRIPT_TYPE){opensocial.data.loadRequests(C)
}}opensocial.data.registerRequestDependencies();
opensocial.data.executeRequests()
};
if(window.gadgets&&window.gadgets["util"]){gadgets.util.registerOnLoadHandler(opensocial.data.processDocumentMarkup)
}opensocial.data.loadRequests=function(A){if(typeof (A)=="string"){opensocial.data.loadRequestsFromMarkup_(A);
return 
}var B=A;
A=B.value||B.innerHTML;
opensocial.data.loadRequestsFromMarkup_(A)
};
opensocial.data.loadRequestsFromMarkup_=function(A){A=opensocial.xmlutil.prepareXML(A);
var C=opensocial.xmlutil.parseXML(A);
var B=C.firstChild;
while(B.nodeType!=1){B=B.nextSibling
}opensocial.data.processDataNode_(B)
};
opensocial.data.processDataNode_=function(A){for(var C=A.firstChild;
C;
C=C.nextSibling){if(C.nodeType==1){var B=new opensocial.data.RequestDescriptor(C)
}}};
opensocial.data.registerRequestDependencies=function(){for(var A in opensocial.data.requests_){var C=opensocial.data.requests_[A];
var E=C.neededKeys;
var D=[];
for(var B in E){if(opensocial.data.DataContext.getDataSet(B)==null&&opensocial.data.requests_[B]){D.push(B)
}}if(D.length>0){opensocial.data.DataContext.registerListener(D,C.getSendRequestClosure());
C.dependencies=true
}}};
opensocial.data.executeRequests=function(){for(var A in opensocial.data.requests_){var B=opensocial.data.requests_[A];
if(!B.dependencies){B.sendRequest()
}}};
opensocial.data.transformSpecialValue=function(A){if(A.substring(0,1)=="@"){return A.substring(1).toUpperCase()
}return A
};
opensocial.data.addFieldsToParams_=function(C,B){if(!B){return 
}var A=B.replace(/(^\s*|\s*$)/g,"").split(/\s*,\s*/);
C[opensocial.DataRequest.PeopleRequestFields.PROFILE_DETAILS]=A
};
(function(){opensocial.data.registerRequestHandler("os:ViewerRequest",function(B){var C={};
opensocial.data.addFieldsToParams_(C,B.getAttribute("fields"));
var A=opensocial.data.getCurrentAPIRequest().newFetchPersonRequest("VIEWER",C);
opensocial.data.addToCurrentAPIRequest(A,B.key)
});
opensocial.data.registerRequestHandler("os:OwnerRequest",function(B){var C={};
opensocial.data.addFieldsToParams_(C,B.getAttribute("fields"));
var A=opensocial.data.getCurrentAPIRequest().newFetchPersonRequest("OWNER",C);
opensocial.data.addToCurrentAPIRequest(A,B.key)
});
opensocial.data.registerRequestHandler("os:PeopleRequest",function(E){var C=E.getAttribute("userId");
var B=E.getAttribute("groupId")||"@self";
var A={};
A.userId=opensocial.data.transformSpecialValue(C);
if(B!="@self"){A.groupId=opensocial.data.transformSpecialValue(B)
}var F={};
opensocial.data.addFieldsToParams_(F,E.getAttribute("fields"));
var D=opensocial.data.getCurrentAPIRequest().newFetchPeopleRequest(opensocial.newIdSpec(A),F);
opensocial.data.addToCurrentAPIRequest(D,E.key)
});
opensocial.data.registerRequestHandler("os:ActivitiesRequest",function(E){var C=E.getAttribute("userId");
var B=E.getAttribute("groupId")||"@self";
var A={};
A.userId=opensocial.data.transformSpecialValue(C);
if(B!="@self"){A.groupId=opensocial.data.transformSpecialValue(B)
}var D=opensocial.data.getCurrentAPIRequest().newFetchActivitiesRequest(opensocial.newIdSpec(A));
opensocial.data.addToCurrentAPIRequest(D,E.key)
});
opensocial.data.registerRequestHandler("os:HttpRequest",function(C){var A=C.getAttribute("href");
var B=C.getAttribute("format")||"json";
var D={};
D[gadgets.io.RequestParameters.CONTENT_TYPE]=B.toLowerCase()=="text"?gadgets.io.ContentType.TEXT:gadgets.io.ContentType.JSON;
D[gadgets.io.RequestParameters.METHOD]=gadgets.io.MethodType.GET;
gadgets.io.makeRequest(A,function(E){opensocial.data.DataContext.putDataSet(C.key,E.data)
},D)
})
})();
(opensocial.data.populateParams_=function(){if(window.gadgets&&gadgets.util.hasFeature("views")){opensocial.data.DataContext.putDataSet("ViewParams",gadgets.views.getParams())
}})();;
var osapi=osapi||{};
var tamings___=tamings___||[];
(function(){osapi._registerMethod=function(F,E){var C=F.split(".");
var B=osapi;
for(var A=0;
A<C.length-1;
A++){B[C[A]]=B[C[A]]||{};
B=B[C[A]]
}var D=function(I){var H=osapi.newBatch();
var G={};
G.execute=function(J){H.add(F,this);
H.execute(function(K){if(K.error){J(K.error)
}else{J(K[F])
}})
};
I=I||{};
I.userId=I.userId||"@viewer";
I.groupId=I.groupId||"@self";
G.method=F;
G.transport=E;
G.rpc=I;
return G
};
if(window.___&&window.___.markInnocent){___.markInnocent(D,F)
}if(B[C[C.length-1]]){gadgets.warn("Duplicate osapi method definition "+F)
}B[C[C.length-1]]=D
}
})();;
var osapi=osapi||{};
(function(){var A=function(){var C={};
var B=[];
var F=function(G,H){if(H&&G){B.push({key:G,request:H});
return C
}};
var E=function(H){var G={method:H.request.method,id:H.key};
if(H.request.rpc){G.params=H.request.rpc
}return G
};
var D=function(G){var H={};
var O={};
var J=0;
var K=[];
for(var M=0;
M<B.length;
M++){var I=B[M].request.transport;
if(!O[I.name]){K.push(I);
J++
}O[I.name]=O[I.name]||[];
O[I.name].push(E(B[M]))
}var N=function(S){if(S.error){H.error=S.error
}for(var R=0;
R<B.length;
R++){var Q=B[R].key;
var P=S[Q];
if(P){if(P.error){H[Q]=P
}else{H[Q]=P.data||P.result
}}}J--;
if(J===0){G(H)
}};
for(var L=0;
L<K.length;
L++){K[L].execute(O[K[L].name],N)
}if(J==0){window.setTimeout(function(){G(H)
},0)
}};
C.execute=D;
C.add=F;
return C
};
osapi.newBatch=A
})();;
(function(){function A(H,G){function F(J){if(J.errors[0]){G({error:{code:J.rc,message:J.text}})
}else{var K=J.data;
if(K.error){G(K)
}else{var I={};
for(var L=0;
L<K.length;
L++){I[K[L].id]=K[L]
}G(I)
}}}var E={POST_DATA:gadgets.json.stringify(H),CONTENT_TYPE:"JSON",METHOD:"POST",AUTHORIZATION:"SIGNED"};
var C=this.name;
var D=shindig.auth.getSecurityToken();
if(D){C+="?st=";
C+=encodeURIComponent(D)
}gadgets.io.makeNonProxiedRequest(C,F,E,"application/json")
}function B(F){var H=F["osapi.services"];
if(H){for(var E in H){if(H.hasOwnProperty(E)){if(E.indexOf("http")==0||E.indexOf("//")==0){var C=E.replace("%host%",document.location.host);
var I={name:C,execute:A};
var D=H[E];
for(var G=0;
G<D.length;
G++){osapi._registerMethod(D[G],I)
}}}}}}if(gadgets.config){gadgets.config.register("osapi.services",null,B)
}})();;
var osapi=osapi||{};
if(gadgets&&gadgets.rpc){(function(){function A(E,D){var C=function(G){if(!G){D({code:500,message:"Container refused the request"})
}else{if(G.error){D(G)
}else{var F={};
for(var H=0;
H<G.length;
H++){F[G[H].id]=G[H]
}D(F)
}}};
gadgets.rpc.call("..","osapi._handleGadgetRpcMethod",C,E)
}function B(C){var F={name:"gadgets.rpc",execute:A};
var K=C["osapi.services"];
if(K){for(var D in K){if(K.hasOwnProperty(D)){if(D==="gadgets.rpc"){var E=K[D];
for(var H=0;
H<E.length;
H++){osapi._registerMethod(E[H],F)
}}}}}if(osapi.container&&osapi.container.listMethods){var G=gadgets.util.runOnLoadHandlers;
var I=2;
var J=function(){I--;
if(I==0){G()
}};
gadgets.util.runOnLoadHandlers=J;
osapi.container.listMethods({}).execute(function(L){if(!L.error){for(var M=0;
M<L.length;
M++){osapi._registerMethod(L[M],F)
}}J()
});
window.setTimeout(J,500)
}}if(gadgets.config){gadgets.config.register("osapi.services",null,B)
}})()
};;
gadgets.util.registerOnLoadHandler(function(){if(osapi&&osapi.people&&osapi.people.get){osapi.people.getViewer=function(A){A=A||{};
A.userId="@viewer";
A.groupId="@self";
return osapi.people.get(A)
};
osapi.people.getViewerFriends=function(A){A=A||{};
A.userId="@viewer";
A.groupId="@friends";
return osapi.people.get(A)
};
osapi.people.getOwner=function(A){A=A||{};
A.userId="@owner";
A.groupId="@self";
return osapi.people.get(A)
};
osapi.people.getOwnerFriends=function(A){A=A||{};
A.userId="@owner";
A.groupId="@friends";
return osapi.people.get(A)
}
}});;
var tamings___=tamings___||[];
tamings___.push(function(A){___.tamesTo(osapi.newBatch,___.markFuncFreeze(function(){var C=osapi.newBatch();
___.markInnocent(C.add,"add");
___.markInnocent(C.execute,"execute");
return ___.tame(C)
}));
A.outers.osapi=___.tame(osapi);
___.grantRead(A.outers,"osapi");
var B=A;
gadgets.util.registerOnLoadHandler(function(){if(osapi&&osapi.people&&osapi.people.get){caja___.whitelistFuncs([[osapi.people,"getViewer"],[osapi.people,"getViewerFriends"],[osapi.people,"getOwner"],[osapi.people,"getOwnerFriends"]]);
B.outers.osapi.people.getViewer=___.tame(osapi.people.getViewer);
B.outers.osapi.people.getViewerFriends=___.tame(osapi.people.getViewerFriends);
B.outers.osapi.people.getOwner=___.tame(osapi.people.getOwner);
B.outers.osapi.people.getOwnerFriends=___.tame(osapi.people.getOwnerFriends)
}})
});;
var JSON=window.JSON||gadgets.json;
var _IG_Prefs=(function(){var A=null;
var B=function(){if(!A){A=new gadgets.Prefs();
A.setDontEscape_()
}return A
};
B._parseURL=gadgets.Prefs.parseUrl;
return B
})();
function _IG_Fetch_wrapper(B,A){B(A.data?A.data:"")
}function _IG_FetchContent(B,G,C){var F=C||{};
if(F.refreshInterval){F.REFRESH_INTERVAL=F.refreshInterval
}else{F.REFRESH_INTERVAL=3600
}for(var E in F){var D=F[E];
delete F[E];
F[E.toUpperCase()]=D
}var A=gadgets.util.makeClosure(null,_IG_Fetch_wrapper,G);
gadgets.io.makeRequest(B,A,F)
}function _IG_FetchXmlContent(B,E,C){var D=C||{};
if(D.refreshInterval){D.REFRESH_INTERVAL=D.refreshInterval
}else{D.REFRESH_INTERVAL=3600
}D.CONTENT_TYPE="DOM";
var A=gadgets.util.makeClosure(null,_IG_Fetch_wrapper,E);
gadgets.io.makeRequest(B,A,D)
}function _IG_FetchFeedAsJSON(B,F,C,A,D){var E=D||{};
E.CONTENT_TYPE="FEED";
E.NUM_ENTRIES=C;
E.GET_SUMMARIES=A;
gadgets.io.makeRequest(B,function(J){J.data=J.data||{};
if(J.errors&&J.errors.length>0){J.data.ErrorMsg=J.errors[0]
}if(J.data.link){J.data.URL=B
}if(J.data.title){J.data.Title=J.data.title
}if(J.data.description){J.data.Description=J.data.description
}if(J.data.link){J.data.Link=J.data.link
}if(J.data.items&&J.data.items.length>0){J.data.Entry=J.data.items;
for(var H=0;
H<J.data.Entry.length;
++H){var I=J.data.Entry[H];
I.Title=I.title;
I.Link=I.link;
I.Summary=I.summary||I.description;
I.Date=I.pubDate
}}for(var G=0;
G<J.data.Entry.length;
++G){var I=J.data.Entry[G];
I.Date=(I.Date/1000)
}F(J.data)
},E)
}function _IG_GetCachedUrl(A,B){var C=B||{};
C.REFRESH_INTERVAL=3600;
if(C.refreshInterval){C.REFRESH_INTERVAL=C.refreshInterval
}return gadgets.io.getProxyUrl(A,C)
}function _IG_GetImageUrl(A,B){return _IG_GetCachedUrl(A,B)
}function _IG_GetImage(B){var A=document.createElement("img");
A.src=_IG_GetCachedUrl(B);
return A
}function _IG_RegisterOnloadHandler(A){gadgets.util.registerOnLoadHandler(A)
}function _IG_Callback(B,C){var A=arguments;
return function(){var D=Array.prototype.slice.call(arguments);
B.apply(null,D.concat(Array.prototype.slice.call(A,1)))
}
}var _args=gadgets.util.getUrlParameters;
function _gel(A){return document.getElementById?document.getElementById(A):null
}function _gelstn(A){if(A==="*"&&document.all){return document.all
}return document.getElementsByTagName?document.getElementsByTagName(A):[]
}function _gelsbyregex(D,F){var C=_gelstn(D);
var E=[];
for(var B=0,A=C.length;
B<A;
++B){if(F.test(C[B].id)){E.push(C[B])
}}return E
}function _esc(A){return window.encodeURIComponent?encodeURIComponent(A):escape(A)
}function _unesc(A){return window.decodeURIComponent?decodeURIComponent(A):unescape(A)
}function _hesc(A){return gadgets.util.escapeString(A)
}function _striptags(A){return A.replace(/<\/?[^>]+>/g,"")
}function _trim(A){return A.replace(/^\s+|\s+$/g,"")
}function _toggle(A){A=(typeof A==="string")?_gel(A):A;
if(A!==null){if(A.style.display.length===0||A.style.display==="block"){A.style.display="none"
}else{if(A.style.display==="none"){A.style.display="block"
}}}}var _global_legacy_uidCounter=0;
function _uid(){return _global_legacy_uidCounter++
}function _min(B,A){return(B<A?B:A)
}function _max(B,A){return(B>A?B:A)
}function _exportSymbols(A,C){var I=window;
var F=A.split(".");
for(var H=0,G=F.length;
H<G;
H++){var B=F[H];
I[B]=I[B]||{};
I=I[B]
}for(var E=0,D=C.length;
E<D;
E+=2){I[C[E]]=C[E+1]
}};;
{{var css={'properties':(function(){var c=[/^\s*0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+(?:0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+)?$/i,/^\s*(?:(?:(?:thin|medium|thick|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|transparent|inherit)\s+)+|inherit\s+)$/i,/^\s*(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|transparent|inherit)\s+$/i,/^\s*(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit)\s+$/i,/^\s*(?:thin|medium|thick|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|inherit)\s+$/i,/^\s*(?:none|inherit)\s+$/i,/^\s*(?:url\("[^\(\)\\\"\r\n]+"\)|none|inherit)\s+$/i,/^\s*(?:0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|0|(?:\d+(?:\.\d+)?)%|auto|inherit)\s+$/i,/^\s*(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%|none|inherit)\s+$/i,/^\s*(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%|inherit)\s+$/i,/^\s*(?:(?:0(?:\.[0-9]+)?|\.[0-9]+|1(?:\.0+)?)|inherit)\s+$/i,/^\s*(?:(?:(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|invert|inherit|none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|thin|medium|thick|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc))\s+)+|inherit\s+)$/i,/^\s*(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|invert|inherit)\s+$/i,/^\s*(?:visible|hidden|scroll|auto|no-display|no-content)\s+$/i,/^\s*(?:auto|always|avoid|left|right|inherit)\s+$/i,/^\s*(?:0|[+-]?\d+(?:\.\d+)?m?s|0|(?:\d+(?:\.\d+)?)%|inherit)\s+$/i,/^\s*(?:0|[+-]?\d+(?:\.\d+)?|inherit)\s+$/i,/^\s*(?:clip|ellipsis)\s+$/i,/^\s*(?:normal|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|inherit)\s+$/i];return{'-moz-border-radius':c[0],'-moz-opacity':c[10],'-moz-outline':c[11],'-moz-outline-color':c[12],'-moz-outline-style':c[3],'-moz-outline-width':c[4],'-o-text-overflow':c[17],'-webkit-border-radius':c[0],'azimuth':/^\s*(?:0|[+-]?\d+(?:\.\d+)?(?:deg|g?rad)\s+|(?:(?:left-side|far-left|left|center-left|center|center-right|right|far-right|right-side|behind)\s+)+|leftwards\s+|rightwards\s+|inherit\s+)$/i,'background':/^\s*(?:(?:(?:(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|transparent|inherit)\s+|(?:url\("[^\(\)\\\"\r\n]+"\)|none|inherit)\s+|(?:repeat|repeat-x|repeat-y|no-repeat|inherit)\s+|(?:scroll|fixed|inherit)\s+|(?:0|(?:\d+(?:\.\d+)?)%|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|left|center|right)\s+(?:(?:0|(?:\d+(?:\.\d+)?)%|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|top|center|bottom)\s+)?|(?:(?:left|center|right|top|bottom)\s+)+|inherit\s+))+|inherit\s+)$/i,'background-attachment':/^\s*(?:scroll|fixed|inherit)\s+$/i,'background-color':c[2],'background-image':c[6],'background-position':/^\s*(?:(?:0|(?:\d+(?:\.\d+)?)%|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|left|center|right)\s+(?:(?:0|(?:\d+(?:\.\d+)?)%|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|top|center|bottom)\s+)?|(?:(?:left|center|right|top|bottom)\s+)+|inherit\s+)$/i,'background-repeat':/^\s*(?:repeat|repeat-x|repeat-y|no-repeat|inherit)\s+$/i,'border':c[1],'border-bottom':c[1],'border-bottom-color':c[2],'border-bottom-style':c[3],'border-bottom-width':c[4],'border-collapse':/^\s*(?:collapse|separate|inherit)\s+$/i,'border-color':/^\s*(?:(?:(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|transparent)\s+){1,4}|inherit\s+)$/i,'border-left':c[1],'border-left-color':c[2],'border-left-style':c[3],'border-left-width':c[4],'border-radius':c[0],'border-right':c[1],'border-right-color':c[2],'border-right-style':c[3],'border-right-width':c[4],'border-spacing':/^\s*(?:0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+(?:0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+)?|inherit\s+)$/i,'border-style':/^\s*(?:(?:(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset)\s+){1,4}|inherit\s+)$/i,'border-top':c[1],'border-top-color':c[2],'border-top-style':c[3],'border-top-width':c[4],'border-width':/^\s*(?:(?:(?:thin|medium|thick|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc))\s+){1,4}|inherit\s+)$/i,'bottom':c[7],'caption-side':/^\s*(?:top|bottom|inherit)\s+$/i,'clear':/^\s*(?:none|left|right|both|inherit)\s+$/i,'clip':/^\s*(?:auto|inherit)\s+$/i,'color':/^\s*(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|inherit)\s+$/i,'counter-increment':c[5],'counter-reset':c[5],'cue':/^\s*(?:(?:(?:url\("[^\(\)\\\"\r\n]+"\)|none|inherit)\s+)+|inherit\s+)$/i,'cue-after':c[6],'cue-before':c[6],'cursor':/^\s*(?:(?:url\("[^\(\)\\\"\r\n]+"\)\s+,\s+)*(?:auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)|inherit)\s+$/i,'direction':/^\s*(?:ltr|rtl|inherit)\s+$/i,'display':/^\s*(?:inline|block|list-item|run-in|inline-block|table|inline-table|table-row-group|table-header-group|table-footer-group|table-row|table-column-group|table-column|table-cell|table-caption|none|inherit|-moz-inline-box|-moz-inline-stack)\s+$/i,'elevation':/^\s*(?:0|[+-]?\d+(?:\.\d+)?(?:deg|g?rad)|below|level|above|higher|lower|inherit)\s+$/i,'empty-cells':/^\s*(?:show|hide|inherit)\s+$/i,'float':/^\s*(?:left|right|none|inherit)\s+$/i,'font':/^\s*(?:(?:(?:normal|italic|oblique|inherit|small-caps|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)\s+)+(?:xx-small|x-small|small|medium|large|x-large|xx-large|(?:small|larg)er|0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%|inherit)\s+(?:\/\s+(?:normal|0|(?:\d+(?:\.\d+)?)|0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%|inherit)\s+)?(?:(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|serif|sans-serif|cursive|fantasy|monospace)\s+(?:,\s+(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|serif|sans-serif|cursive|fantasy|monospace)\s+)*|inherit\s+)|caption\s+|icon\s+|menu\s+|message-box\s+|small-caption\s+|status-bar\s+|inherit\s+)$/i,'font-family':/^\s*(?:(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|serif|sans-serif|cursive|fantasy|monospace)\s+(?:,\s+(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|serif|sans-serif|cursive|fantasy|monospace)\s+)*|inherit\s+)$/i,'font-size':/^\s*(?:xx-small|x-small|small|medium|large|x-large|xx-large|(?:small|larg)er|0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%|inherit)\s+$/i,'font-stretch':/^\s*(?:normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded)\s+$/i,'font-style':/^\s*(?:normal|italic|oblique|inherit)\s+$/i,'font-variant':/^\s*(?:normal|small-caps|inherit)\s+$/i,'font-weight':/^\s*(?:normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)\s+$/i,'height':c[7],'left':c[7],'letter-spacing':c[18],'line-height':/^\s*(?:normal|0|(?:\d+(?:\.\d+)?)|0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%|inherit)\s+$/i,'list-style':/^\s*(?:(?:(?:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none|inherit|inside|outside|url\("[^\(\)\\\"\r\n]+"\))\s+)+|inherit\s+)$/i,'list-style-image':c[6],'list-style-position':/^\s*(?:inside|outside|inherit)\s+$/i,'list-style-type':/^\s*(?:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none|inherit)\s+$/i,'margin':/^\s*(?:(?:(?:0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|0|(?:\d+(?:\.\d+)?)%|auto)\s+){1,4}|inherit\s+)$/i,'margin-bottom':c[7],'margin-left':c[7],'margin-right':c[7],'margin-top':c[7],'max-height':c[8],'max-width':c[8],'min-height':c[9],'min-width':c[9],'opacity':c[10],'outline':c[11],'outline-color':c[12],'outline-style':c[3],'outline-width':c[4],'overflow':/^\s*(?:visible|hidden|scroll|auto|inherit)\s+$/i,'overflow-x':c[13],'overflow-y':c[13],'padding':/^\s*(?:(?:(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%)\s+){1,4}|inherit\s+)$/i,'padding-bottom':c[9],'padding-left':c[9],'padding-right':c[9],'padding-top':c[9],'page-break-after':c[14],'page-break-before':c[14],'page-break-inside':/^\s*(?:avoid|auto|inherit)\s+$/i,'pause':/^\s*(?:(?:(?:0|[+-]?\d+(?:\.\d+)?m?s|0|(?:\d+(?:\.\d+)?)%)\s+){1,2}|inherit\s+)$/i,'pause-after':c[15],'pause-before':c[15],'pitch':/^\s*(?:0|(?:\d+(?:\.\d+)?)k?Hz|x-low|low|medium|high|x-high|inherit)\s+$/i,'pitch-range':c[16],'play-during':/^\s*(?:url\("[^\(\)\\\"\r\n]+"\)\s+(?:(?:mix|repeat)\s+)+|auto\s+|none\s+|inherit\s+)$/i,'position':/^\s*(?:static|relative|absolute|fixed|inherit)\s+$/i,'quotes':c[5],'richness':c[16],'right':c[7],'speak':/^\s*(?:normal|none|spell-out|inherit)\s+$/i,'speak-header':/^\s*(?:once|always|inherit)\s+$/i,'speak-numeral':/^\s*(?:digits|continuous|inherit)\s+$/i,'speak-punctuation':/^\s*(?:code|none|inherit)\s+$/i,'speech-rate':/^\s*(?:0|[+-]?\d+(?:\.\d+)?|x-slow|slow|medium|fast|x-fast|faster|slower|inherit)\s+$/i,'stress':c[16],'table-layout':/^\s*(?:auto|fixed|inherit)\s+$/i,'text-align':/^\s*(?:left|right|center|justify|inherit)\s+$/i,'text-decoration':/^\s*(?:none\s+|(?:(?:underline|overline|line-through|blink)\s+)+|inherit\s+)$/i,'text-indent':/^\s*(?:0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|0|(?:\d+(?:\.\d+)?)%|inherit)\s+$/i,'text-overflow':c[17],'text-shadow':/^\s*(?:none\s+|(?:(?:(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)\s+0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)\s+)?|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)\s+)?(?:(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)\s+)?),\s+)*(?:(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)\s+0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)\s+)?|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)\s+(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)\s+)?(?:(?:#(?:[0-9a-f]{3}){1,2}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)\s+)?))$/i,'text-transform':/^\s*(?:capitalize|uppercase|lowercase|none|inherit)\s+$/i,'text-wrap':/^\s*(?:normal|unrestricted|none|suppress)\s+$/i,'top':c[7],'unicode-bidi':/^\s*(?:normal|embed|bidi-override|inherit)\s+$/i,'vertical-align':/^\s*(?:baseline|sub|super|top|text-top|middle|bottom|text-bottom|0|(?:\d+(?:\.\d+)?)%|0|[+-]?\d+(?:\.\d+)?(?:em|ex|px|in|cm|mm|pt|pc)|inherit)\s+$/i,'visibility':/^\s*(?:visible|hidden|collapse|inherit)\s+$/i,'voice-family':/^\s*(?:(?:(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|male|female|child)\s+,\s+)*(?:"\w(?:[\w-]*\w)(?:\s+\w([\w-]*\w))*"|male|female|child)|inherit)\s+$/i,'volume':/^\s*(?:0|(?:\d+(?:\.\d+)?)|0|[+-]?\d+(?:\.\d+)?%|silent|x-soft|soft|medium|loud|x-loud|inherit)\s+$/i,'white-space':/^\s*(?:normal|pre|nowrap|pre-wrap|pre-line|inherit|-o-pre-wrap|-moz-pre-wrap|-pre-wrap)\s+$/i,'width':/^\s*(?:0|(?:\d+(?:\.\d+)?)(?:em|ex|px|in|cm|mm|pt|pc)|0|[+-]?\d+(?:\.\d+)?%|auto|inherit)\s+$/i,'word-spacing':c[18],'word-wrap':/^\s*(?:normal|break-word)\s+$/i,'z-index':/^\s*(?:auto|-?\d+|inherit)\s+$/i,'zoom':/^\s*(?:normal|0|(?:\d+(?:\.\d+)?)|0|[+-]?\d+(?:\.\d+)?%)\s+$/i}})(),'alternates':{'float':['cssFloat','styleFloat']},'HISTORY_INSENSITIVE_STYLE_WHITELIST':{'display':true,'filter':true,'float':true,'height':true,'left':true,'opacity':true,'overflow':true,'position':true,'right':true,'top':true,'visibility':true,'width':true,'padding-left':true,'padding-right':true,'padding-top':true,'padding-bottom':true}}}{var
html4={};html4 .atype={'NONE':0,'URI':1,'URI_FRAGMENT':11,'SCRIPT':2,'STYLE':3,'ID':4,'IDREF':5,'IDREFS':6,'GLOBAL_NAME':7,'LOCAL_NAME':8,'CLASSES':9,'FRAME_TARGET':10};html4
.ATTRIBS={'*::class':9,'*::dir':0,'*::id':4,'*::lang':0,'*::onclick':2,'*::ondblclick':2,'*::onkeydown':2,'*::onkeypress':2,'*::onkeyup':2,'*::onload':2,'*::onmousedown':2,'*::onmousemove':2,'*::onmouseout':2,'*::onmouseover':2,'*::onmouseup':2,'*::style':3,'*::title':0,'a::accesskey':0,'a::coords':0,'a::href':1,'a::hreflang':0,'a::name':7,'a::onblur':2,'a::onfocus':2,'a::rel':0,'a::rev':0,'a::shape':0,'a::tabindex':0,'a::target':10,'a::type':0,'area::accesskey':0,'area::alt':0,'area::coords':0,'area::href':1,'area::nohref':0,'area::onblur':2,'area::onfocus':2,'area::shape':0,'area::tabindex':0,'area::target':10,'bdo::dir':0,'blockquote::cite':1,'br::clear':0,'button::accesskey':0,'button::disabled':0,'button::name':8,'button::onblur':2,'button::onfocus':2,'button::tabindex':0,'button::type':0,'button::value':0,'caption::align':0,'col::align':0,'col::char':0,'col::charoff':0,'col::span':0,'col::valign':0,'col::width':0,'colgroup::align':0,'colgroup::char':0,'colgroup::charoff':0,'colgroup::span':0,'colgroup::valign':0,'colgroup::width':0,'del::cite':1,'del::datetime':0,'dir::compact':0,'div::align':0,'dl::compact':0,'font::color':0,'font::face':0,'font::size':0,'form::accept':0,'form::action':1,'form::enctype':0,'form::method':0,'form::name':7,'form::onreset':2,'form::onsubmit':2,'form::target':10,'h1::align':0,'h2::align':0,'h3::align':0,'h4::align':0,'h5::align':0,'h6::align':0,'hr::align':0,'hr::noshade':0,'hr::size':0,'hr::width':0,'iframe::align':0,'iframe::frameborder':0,'iframe::height':0,'iframe::longdesc':1,'iframe::marginheight':0,'iframe::marginwidth':0,'iframe::width':0,'img::align':0,'img::alt':0,'img::border':0,'img::height':0,'img::hspace':0,'img::ismap':0,'img::longdesc':1,'img::name':7,'img::src':1,'img::usemap':11,'img::vspace':0,'img::width':0,'input::accept':0,'input::accesskey':0,'input::align':0,'input::alt':0,'input::checked':0,'input::disabled':0,'input::ismap':0,'input::maxlength':0,'input::name':8,'input::onblur':2,'input::onchange':2,'input::onfocus':2,'input::onselect':2,'input::readonly':0,'input::size':0,'input::src':1,'input::tabindex':0,'input::type':0,'input::usemap':11,'input::value':0,'ins::cite':1,'ins::datetime':0,'label::accesskey':0,'label::for':5,'label::onblur':2,'label::onfocus':2,'legend::accesskey':0,'legend::align':0,'li::type':0,'li::value':0,'map::name':7,'menu::compact':0,'ol::compact':0,'ol::start':0,'ol::type':0,'optgroup::disabled':0,'optgroup::label':0,'option::disabled':0,'option::label':0,'option::selected':0,'option::value':0,'p::align':0,'pre::width':0,'q::cite':1,'select::disabled':0,'select::multiple':0,'select::name':8,'select::onblur':2,'select::onchange':2,'select::onfocus':2,'select::size':0,'select::tabindex':0,'table::align':0,'table::bgcolor':0,'table::border':0,'table::cellpadding':0,'table::cellspacing':0,'table::frame':0,'table::rules':0,'table::summary':0,'table::width':0,'tbody::align':0,'tbody::char':0,'tbody::charoff':0,'tbody::valign':0,'td::abbr':0,'td::align':0,'td::axis':0,'td::bgcolor':0,'td::char':0,'td::charoff':0,'td::colspan':0,'td::headers':6,'td::height':0,'td::nowrap':0,'td::rowspan':0,'td::scope':0,'td::valign':0,'td::width':0,'textarea::accesskey':0,'textarea::cols':0,'textarea::disabled':0,'textarea::name':8,'textarea::onblur':2,'textarea::onchange':2,'textarea::onfocus':2,'textarea::onselect':2,'textarea::readonly':0,'textarea::rows':0,'textarea::tabindex':0,'tfoot::align':0,'tfoot::char':0,'tfoot::charoff':0,'tfoot::valign':0,'th::abbr':0,'th::align':0,'th::axis':0,'th::bgcolor':0,'th::char':0,'th::charoff':0,'th::colspan':0,'th::headers':6,'th::height':0,'th::nowrap':0,'th::rowspan':0,'th::scope':0,'th::valign':0,'th::width':0,'thead::align':0,'thead::char':0,'thead::charoff':0,'thead::valign':0,'tr::align':0,'tr::bgcolor':0,'tr::char':0,'tr::charoff':0,'tr::valign':0,'ul::compact':0,'ul::type':0};html4
.eflags={'OPTIONAL_ENDTAG':1,'EMPTY':2,'CDATA':4,'RCDATA':8,'UNSAFE':16,'FOLDABLE':32,'SCRIPT':64,'STYLE':128};html4
.ELEMENTS={'a':0,'abbr':0,'acronym':0,'address':0,'applet':16,'area':2,'b':0,'base':18,'basefont':18,'bdo':0,'big':0,'blockquote':0,'body':49,'br':2,'button':0,'caption':0,'center':0,'cite':0,'code':0,'col':2,'colgroup':1,'dd':1,'del':0,'dfn':0,'dir':0,'div':0,'dl':0,'dt':1,'em':0,'fieldset':0,'font':0,'form':0,'frame':18,'frameset':16,'h1':0,'h2':0,'h3':0,'h4':0,'h5':0,'h6':0,'head':49,'hr':2,'html':49,'i':0,'iframe':4,'img':2,'input':2,'ins':0,'isindex':18,'kbd':0,'label':0,'legend':0,'li':1,'link':18,'map':0,'menu':0,'meta':18,'noframes':20,'noscript':20,'object':16,'ol':0,'optgroup':0,'option':1,'p':1,'param':18,'pre':0,'q':0,'s':0,'samp':0,'script':84,'select':0,'small':0,'span':0,'strike':0,'strong':0,'style':148,'sub':0,'sup':0,'table':0,'tbody':1,'td':1,'textarea':8,'tfoot':1,'th':1,'thead':1,'title':24,'tr':1,'tt':0,'u':0,'ul':0,'var':0}}{var
html=(function(){var lcase;if('script'==='SCRIPT'.toLowerCase()){lcase=function(s){return s.toLowerCase()}}else{lcase=function(s){return s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(ch.charCodeAt(0)|32)})}}var
ENTITIES={'lt':'<','gt':'>','amp':'&','nbsp':'\xa0','quot':'\"','apos':'\''};var
decimalEscapeRe=/^#(\d+)$/;var hexEscapeRe=/^#x([0-9A-Fa-f]+)$/;function lookupEntity(name){name=lcase(name);if(ENTITIES.hasOwnProperty(name)){return ENTITIES[name]}var
m=name.match(decimalEscapeRe);if(m){return String.fromCharCode(parseInt(m[1],10))}else
if(!(!(m=name.match(hexEscapeRe)))){return String.fromCharCode(parseInt(m[1],16))}return''}function
decodeOneEntity(_,name){return lookupEntity(name)}var nulRe=/\0/g;function stripNULs(s){return s.replace(nulRe,'')}var
entityRe=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g;function unescapeEntities(s){return s.replace(entityRe,decodeOneEntity)}var
ampRe=/&/g;var looseAmpRe=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi;var ltRe=/</g;var
gtRe=/>/g;var quotRe=/\"/g;var eqRe=/\=/g;function escapeAttrib(s){return s.replace(ampRe,'&amp;').replace(ltRe,'&lt;').replace(gtRe,'&gt;').replace(quotRe,'&#34;').replace(eqRe,'&#61;')}function
normalizeRCData(rcdata){return rcdata.replace(looseAmpRe,'&amp;$1').replace(ltRe,'&lt;').replace(gtRe,'&gt;')}var
INSIDE_TAG_TOKEN=new RegExp('^\\s*(?:'+('(?:'+'([a-z][a-z-]*)'+('('+'\\s*=\\s*'+('('+'\"[^\"]*\"'+'|\'[^\']*\''+'|(?=[a-z][a-z-]*\\s*=)'+'|[^>\"\'\\s]*'+')')+')')+'?'+')')+'|(/?>)'+'|.[^\\w\\s>]*)','i');var
OUTSIDE_TAG_TOKEN=new RegExp('^(?:'+'&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);'+'|<!--[\\s\\S]*?-->|<!\\w[^>]*>|<\\?[^>*]*>'+'|<(/)?([a-z][a-z0-9]*)'+'|([^<&>]+)'+'|([<&>]))','i');function
makeSaxParser(handler){return function parse(htmlText,param){htmlText=String(htmlText);var
htmlLower=null;var inTag=false;var attribs=[];var tagName=void 0;var eflags=void
0;var openTag=void 0;if(handler.startDoc){handler.startDoc(param)}while(htmlText){var
m=htmlText.match(inTag?INSIDE_TAG_TOKEN:OUTSIDE_TAG_TOKEN);htmlText=htmlText.substring(m[0].length);if(inTag){if(m[1]){var
attribName=lcase(m[1]);var decodedValue;if(m[2]){var encodedValue=m[3];switch(encodedValue.charCodeAt(0)){case
34:;case 39:{encodedValue=encodedValue.substring(1,encodedValue.length-1);break}}decodedValue=unescapeEntities(stripNULs(encodedValue))}else{decodedValue=attribName}attribs.push(attribName,decodedValue)}else
if(m[4]){if(eflags!==void 0){if(openTag){if(handler.startTag){handler.startTag(tagName,attribs,param)}}else{if(handler.endTag){handler.endTag(tagName,param)}}}if(openTag&&eflags&(html4
.eflags.CDATA|html4 .eflags.RCDATA)){if(htmlLower===null){htmlLower=lcase(htmlText)}else{htmlLower=htmlLower.substring(htmlLower.length-htmlText.length)}var
dataEnd=htmlLower.indexOf('</'+tagName);if(dataEnd<0){dataEnd=htmlText.length}if(eflags&html4
.eflags.CDATA){if(handler.cdata){handler.cdata(htmlText.substring(0,dataEnd),param)}}else
if(handler.rcdata){handler.rcdata(normalizeRCData(htmlText.substring(0,dataEnd)),param)}htmlText=htmlText.substring(dataEnd)}tagName=eflags=openTag=void
0;attribs.length=0;inTag=false}}else{if(m[1]){if(handler.pcdata){handler.pcdata(m[0],param)}}else
if(m[3]){openTag=!m[2];inTag=true;tagName=lcase(m[3]);eflags=html4 .ELEMENTS.hasOwnProperty(tagName)?html4
.ELEMENTS[tagName]:void 0}else if(m[4]){if(handler.pcdata){handler.pcdata(m[4],param)}}else
if(m[5]){if(handler.pcdata){switch(m[5]){case'<':{handler.pcdata('&lt;',param);break}case'>':{handler.pcdata('&gt;',param);break}default:{handler.pcdata('&amp;',param);break}}}}}}if(handler.endDoc){handler.endDoc(param)}}}return{'normalizeRCData':normalizeRCData,'escapeAttrib':escapeAttrib,'unescapeEntities':unescapeEntities,'makeSaxParser':makeSaxParser}})();html.makeHtmlSanitizer=function(sanitizeAttributes){var
stack;var ignoring;return html.makeSaxParser({'startDoc':function(_){stack=[];ignoring=false},'startTag':function(tagName,attribs,out){if(ignoring){return}if(!html4
.ELEMENTS.hasOwnProperty(tagName)){return}var eflags=html4 .ELEMENTS[tagName];if(eflags&html4
.eflags.FOLDABLE){return}else if(eflags&html4 .eflags.UNSAFE){ignoring=!(eflags&html4
.eflags.EMPTY);return}attribs=sanitizeAttributes(tagName,attribs);if(attribs){if(!(eflags&html4
.eflags.EMPTY)){stack.push(tagName)}out.push('<',tagName);for(var i=0,n=attribs.length;i<n;i+=2){var
attribName=attribs[i],value=attribs[i+1];if(value!==null&&value!==void 0){out.push(' ',attribName,'=\"',html.escapeAttrib(value),'\"')}}out.push('>')}},'endTag':function(tagName,out){if(ignoring){ignoring=false;return}if(!html4
.ELEMENTS.hasOwnProperty(tagName)){return}var eflags=html4 .ELEMENTS[tagName];if(!(eflags&(html4
.eflags.UNSAFE|html4 .eflags.EMPTY|html4 .eflags.FOLDABLE))){var index;if(eflags&html4
.eflags.OPTIONAL_ENDTAG){for(index=stack.length;--index>=0;){var stackEl=stack[index];if(stackEl===tagName){break}if(!(html4
.ELEMENTS[stackEl]&html4 .eflags.OPTIONAL_ENDTAG)){return}}}else{for(index=stack.length;--index>=0;){if(stack[index]===tagName){break}}}if(index<0){return}for(var
i=stack.length;--i>index;){var stackEl=stack[i];if(!(html4 .ELEMENTS[stackEl]&html4
.eflags.OPTIONAL_ENDTAG)){out.push('</',stackEl,'>')}}stack.length=index;out.push('</',tagName,'>')}},'pcdata':function(text,out){if(!ignoring){out.push(text)}},'rcdata':function(text,out){if(!ignoring){out.push(text)}},'cdata':function(text,out){if(!ignoring){out.push(text)}},'endDoc':function(out){for(var
i=stack.length;--i>=0;){out.push('</',stack[i],'>')}stack.length=0}})};function
html_sanitize(htmlText,opt_urlPolicy,opt_nmTokenPolicy){var out=[];html.makeHtmlSanitizer(function
sanitizeAttribs(tagName,attribs){for(var i=0;i<attribs.length;i+=2){var attribName=attribs[i];var
value=attribs[i+1];var atype=null,attribKey;if((attribKey=tagName+'::'+attribName,html4
.ATTRIBS.hasOwnProperty(attribKey))||(attribKey='*::'+attribName,html4 .ATTRIBS.hasOwnProperty(attribKey))){atype=html4
.ATTRIBS[attribKey]}if(atype!==null){switch(atype){case html4 .atype.SCRIPT:;case
html4 .atype.STYLE:{value=null;break}case html4 .atype.IDREF:;case html4 .atype.IDREFS:;case
html4 .atype.GLOBAL_NAME:;case html4 .atype.LOCAL_NAME:;case html4 .atype.CLASSES:{value=opt_nmTokenPolicy?opt_nmTokenPolicy(value):value;break}case
html4 .atype.URI:{value=opt_urlPolicy&&opt_urlPolicy(value);break}case html4 .atype.URI_FRAGMENT:{if(value&&'#'===value.charAt(0)){value=opt_nmTokenPolicy?opt_nmTokenPolicy(value):value;if(value){value='#'+value}}else{value=null}break}}}else{value=null}attribs[i+1]=value}return attribs})(htmlText,out);return out.join('')}}};
var gadgets=gadgets||{};
gadgets.views=function(){var E=null;
var B={};
var D={};
function A(H){if(!H){H=window.event
}var G;
if(H.target){G=H.target
}else{if(H.srcElement){G=H.srcElement
}}if(G.nodeType===3){G=G.parentNode
}if(G.nodeName.toLowerCase()==="a"){var F=G.getAttribute("href");
if(F&&F[0]!=="#"&&F.indexOf("://")===-1){gadgets.views.requestNavigateTo(E,F);
if(H.stopPropagation){H.stopPropagation()
}if(H.preventDefault){H.preventDefault()
}H.returnValue=false;
H.cancelBubble=true;
return false
}}return false
}function C(I){var H=I.views||{};
for(var L in H){if(H.hasOwnProperty(L)){if(L!="rewriteLinks"){var M=H[L];
if(!M){continue
}B[L]=new gadgets.views.View(L,M.isOnlyVisible);
var F=M.aliases||[];
for(var K=0,J;
(J=F[K]);
++K){B[J]=new gadgets.views.View(L,M.isOnlyVisible)
}}}}var G=gadgets.util.getUrlParameters();
if(G["view-params"]){D=gadgets.json.parse(G["view-params"])||D
}E=B[G.view]||B["default"];
if(H.rewriteLinks){if(document.attachEvent){document.attachEvent("onclick",A)
}else{document.addEventListener("click",A,false)
}}}gadgets.config.register("views",null,C);
return{bind:function(V,T){if(typeof V!=="string"){throw new Error("Invalid urlTemplate")
}if(typeof T!=="object"){throw new Error("Invalid environment")
}var Q=/^([a-zA-Z0-9][a-zA-Z0-9_\.\-]*)(=([a-zA-Z0-9\-\._~]|(%[0-9a-fA-F]{2}))*)?$/,X=new RegExp("\\{([^}]*)\\}","g"),U=/^-([a-zA-Z]+)\|([^|]*)\|(.+)$/,M=[],P=0,K,J,H,O,L,G,N,R;
function I(Z,Y){return T.hasOwnProperty(Z)?T[Z]:Y
}function F(Y){if(!(J=Y.match(Q))){throw new Error("Invalid variable : "+Y)
}}function W(c,Y,b){var Z,a=c.split(",");
for(Z=0;
Z<a.length;
++Z){F(a[Z]);
if(b(Y,I(J[1]),J[1])){break
}}return Y
}function S(Y){if((typeof Y==="object")||(typeof Y==="function")){for(i in Y){if(Y.hasOwnProperty(i)){return false
}}return true
}return false
}while((K=X.exec(V))){M.push(V.substring(P,K.index));
P=X.lastIndex;
if((J=K[1].match(Q))){H=J[1];
O=J[2]?J[2].substr(1):"";
M.push(I(H,O))
}else{if((J=K[1].match(U))){L=J[1];
G=J[2];
N=J[3];
R=0;
switch(L){case"neg":R=1;
case"opt":if(W(N,{flag:R},function(Z,Y){if(typeof Y!=="undefined"&&!S(Y)){Z.flag=!Z.flag;
return 1
}return 0
}).flag){M.push(G)
}break;
case"join":M.push(W(N,[],function(a,Z,Y){if(typeof Z==="string"){a.push(Y+"="+Z)
}else{if(typeof Z==="object"){for(i in Z){if(Z.hasOwnProperty(i)){a.push(i+"="+Z[i])
}}}}}).join(G));
break;
case"list":F(N);
value=I(J[1]);
if(typeof value==="object"&&typeof value.join==="function"){M.push(value.join(G))
}break;
case"prefix":R=1;
case"suffix":F(N);
value=I(J[1],J[2]&&J[2].substr(1));
if(typeof value==="string"){M.push(R?G+value:value+G)
}else{if(typeof value==="object"&&typeof value.join==="function"){M.push(R?G+value.join(G):value.join(G)+G)
}}break;
default:throw new Error("Invalid operator : "+L)
}}else{throw new Error("Invalid syntax : "+K[0])
}}}M.push(V.substr(P));
return M.join("")
},requestNavigateTo:function(F,H,G){if(typeof F!=="string"){F=F.getName()
}gadgets.rpc.call(null,"requestNavigateTo",null,F,H,G)
},getCurrentView:function(){return E
},getSupportedViews:function(){return B
},getParams:function(){return D
}}
}();
gadgets.views.View=function(A,B){this.name_=A;
this.isOnlyVisible_=!!B
};
gadgets.views.View.prototype.getName=function(){return this.name_
};
gadgets.views.View.prototype.getUrlTemplate=function(){return gadgets.config&&gadgets.config.views&&gadgets.config.views[this.name_]&&gadgets.config.views[this.name_].urlTemplate
};
gadgets.views.View.prototype.bind=function(A){return gadgets.views.bind(this.getUrlTemplate(),A)
};
gadgets.views.View.prototype.isOnlyVisibleGadget=function(){return this.isOnlyVisible_
};
gadgets.views.ViewType=gadgets.util.makeEnum(["CANVAS","HOME","PREVIEW","PROFILE","FULL_PAGE","DASHBOARD","POPUP"]);;
var tamings___=tamings___||[];
tamings___.push(function(A){caja___.whitelistCtors([[gadgets.views,"View",Object]]);
caja___.whitelistMeths([[gadgets.views.View,"bind"],[gadgets.views.View,"getUrlTemplate"],[gadgets.views.View,"isOnlyVisibleGadget"],[gadgets.views.View,"getName"]]);
caja___.whitelistFuncs([[gadgets.views,"getCurrentView"],[gadgets.views,"getParams"],[gadgets.views,"requestNavigateTo"]])
});;
gadgets.skins=function(){var b=null,e={BG_COLOR:["CONTENT_BG_COLOR"],FONT_COLOR:["CONTENT_TEXT_COLOR"],ANCHOR_COLOR:["CONTENT_LINK_COLOR"],CONTENT_HEADLINE_COLOR:["CONTENT_TEXT_COLOR"],CONTENT_SECONDARY_TEXT_COLOR:["CONTENT_TEXT_COLOR"],CONTENT_SECONDARY_LINK_COLOR:["CONTENT_LINK_COLOR"],ENDCAP_BG_COLOR:["CONTENT_BG_COLOR"],ENDCAP_LINK_COLOR:["CONTENT_LINK_COLOR"],ENDCAP_TEXT_COLOR:["CONTENT_TEXT_COLOR"],ALTERNATE_BG_COLOR:["CONTENT_BG_COLOR"],CONTENT_VISITED_LINK_COLOR:["CONTENT_LINK_COLOR"]};return{init:function(){b=
null},getProperty:function(d){if(!b){var c=gadgets.views.getParams();b=c.skin||{}}var a=b[d];if(!a&&e[d])for(c=0;c<e[d].length;c++){a=e[d][c];if(a=b[a])break}if(a)a=gadgets.util.escapeString(a);return a}}}();
gadgets.skins.Property=gadgets.util.makeEnum(["BG_IMAGE","BG_COLOR","FONT_COLOR","BG_POSITION","BG_REPEAT","ANCHOR_COLOR","FONT_FACE","BORDER_COLOR","CONTENT_BG_COLOR","CONTENT_HEADLINE_COLOR","CONTENT_LINK_COLOR","CONTENT_SECONDARY_TEXT_COLOR","CONTENT_SECONDARY_LINK_COLOR","CONTENT_TEXT_COLOR","ENDCAP_BG_COLOR","ENDCAP_LINK_COLOR","ENDCAP_TEXT_COLOR","CONTENT_VISITED_LINK_COLOR","ALTERNATE_BG_COLOR"]);
;
var gadgets=gadgets||{};
gadgets.window=gadgets.window||{};
(function(){gadgets.window.getViewportDimensions=function(){var A,B;
if(self.innerHeight){A=self.innerWidth;
B=self.innerHeight
}else{if(document.documentElement&&document.documentElement.clientHeight){A=document.documentElement.clientWidth;
B=document.documentElement.clientHeight
}else{if(document.body){A=document.body.clientWidth;
B=document.body.clientHeight
}else{A=0;
B=0
}}}return{width:A,height:B}
}
})();;
var gadgets=gadgets||{};
gadgets.window=gadgets.window||{};
(function(){var C;
function A(F,D){var E=window.getComputedStyle(F,"");
var G=E.getPropertyValue(D);
G.match(/^([0-9]+)/);
return parseInt(RegExp.$1,10)
}function B(){var E=0;
var D=[document.body];
while(D.length>0){var I=D.shift();
var H=I.childNodes;
for(var G=0;
G<H.length;
G++){var J=H[G];
if(typeof J.offsetTop!=="undefined"&&typeof J.scrollHeight!=="undefined"){var F=J.offsetTop+J.scrollHeight+A(J,"margin-bottom");
E=Math.max(E,F)
}D.push(J)
}}return E+A(document.body,"border-bottom")+A(document.body,"margin-bottom")+A(document.body,"padding-bottom")
}gadgets.window.adjustHeight=function(I){var F=parseInt(I,10);
var E=false;
if(isNaN(F)){E=true;
var K=gadgets.window.getViewportDimensions().height;
var D=document.body;
var J=document.documentElement;
if(document.compatMode==="CSS1Compat"&&J.scrollHeight){F=J.scrollHeight!==K?J.scrollHeight:J.offsetHeight
}else{if(navigator.userAgent.indexOf("AppleWebKit")>=0){F=B()
}else{if(D&&J){var G=J.scrollHeight;
var H=J.offsetHeight;
if(J.clientHeight!==H){G=D.scrollHeight;
H=D.offsetHeight
}if(G>K){F=G>H?G:H
}else{F=G<H?G:H
}}}}}if(F!==C&&!isNaN(F)&&!(E&&F===0)){C=F;
gadgets.rpc.call(null,"resize_iframe",null,F)
}}
}());
var _IG_AdjustIFrameHeight=gadgets.window.adjustHeight;;
var tamings___=tamings___||[];
tamings___.push(function(A){caja___.whitelistFuncs([[gadgets.window,"adjustHeight"],[gadgets.window,"getViewportDimensions"],])
});;
gadgets.config.init({"opensocial":{"path":"http://%host%/ps/api/rpc","domain":"google.com","invalidatePath":"//%host%/gadgets/api/rpc","supportedFields":{"person":["id","name","thumbnailUrl","nickname","profileUrl"],"filterType":["all","hasApp"],"activityMediaItem":["type","mimeType","url"],"activity":["id","externalId","userId","appId","streamTitle","streamUrl","streamSourceUrl","streamFaviconUrl","title","body","url","mediaItems","postedTime","userThumbnailUrl","userProfileUrl","userName"],"sortOrder":["name"],"name":["unstructured","familyName","givenName","additionalName","honorificPrefix","honorificSuffix"]},"enableCaja":false},"shindig.auth":{"authToken":"","trustedJson":""},"osapi.services":{"//%host%/ps/api/rpc":["activities.get","activities.create","activities.update","activities.delete","activities.supportedFields","appdata.get","appdata.create","appdata.update","appdata.delete","extensions.get","people.get","people.put","people.supportedFields","posts.get"],"//%host%/gadgets/api/rpc":["http.get","http.post","http.put","http.delete","http.head","cache.invalidate"]},"rpc":{"parentRelayUrl":"rpc_relay.html","useLegacyProtocol":false},"views":{"canvas":{"aliases":["FULL_PAGE"],"isOnlyVisible":true,"urlTemplate":"http://localhost/gadgets/canvas?{var}"},"embed":{"aliases":["profile","DASHBOARD","default"],"isOnlyVisible":false,"urlTemplate":"http://localhost/gadgets/embed?{var}"},"profile":{"aliases":["DASHBOARD","default"],"isOnlyVisible":false,"urlTemplate":"http://localhost/gadgets/profile?{var}"}},"core.util":{"content-rewrite":{"exclude-urls":".*"},"dynamic-height":{},"views":{},"osapi":{},"core":{},"opensocial-data":{},"skins":{},"opensocial-0.8":{}},"skins":{"properties":{"BG_POSITION":"","FONT_COLOR":"","BG_COLOR":"","BG_IMAGE":"","ANCHOR_COLOR":"","BG_REPEAT":""}},"core.io":{"proxyUrl":"http://www.gmodules.com/gadgets/proxy/refresh=%refresh%&container=%container%%rewriteMime%&gadget=%gadget%/%rawurl%","jsonProxyUrl":"http://%host%/gadgets/makeRequest"}});
</script><script>gadgets.Prefs.setMessages_({"GADGET_TITLE":"","GADGET_DESCRIPTION":"     ,  ,       ."});gadgets.Prefs.setDefaultPrefs_({});gadgets.io.preloaded_=[];</script>
    <style type="text/css">
      body { background: transparent; }
    </style>
    <link href="cm_data/gadgets-ltr.css" rel="stylesheet" type="text/css">
    
    </head><body dir="ltr"><script type="text/javascript"> var prefs = new gadgets.Prefs();document.write('<scr' + 'ipt src="http://www.google.com/friendconnect/script/mod_gadget_common__' + prefs.getLang() + (prefs.getCountry()?'_'+prefs.getCountry():'') +  '.js?v=0.499.5"></scr' + 'ipt>');document.write('<scr' + 'ipt src="http://www.google.com/friendconnect/script/mod_gadget_members__' + prefs.getLang() + (prefs.getCountry()?'_'+prefs.getCountry():'') +  '.js?v=0.499.5"></scr' + 'ipt>');</script><script src="cm_data/mod_gadget_common__ru_US.js"></script><script src="cm_data/mod_gadget_members__ru_US.js"></script>
    <div class="goog-app" id="peg" style="display: none;"></div>

    <!-- place holder for templates -->
    <div style="display: none;">
      <!-- template for a link that browses to a member's profile. $this is an opensocial.Person. -->
      <img id="member-thumb-tpl" jsvalues=".src:getThumbnail($this);$h:handle(this,'viewProfile');title:getDisplayName()" style="cursor: pointer;">

      <img id="member-thumb-65-tpl" jsvalues=".src:getThumbnail($this);$h:handle(this,'viewProfile');title:getDisplayName()" style="cursor: pointer;" height="65" width="65">

      <img id="member-thumb-large-tpl" jsvalues=".src:getThumbnail($this);$h:handle(this,'viewProfile');title:getDisplayName()" style="cursor: pointer;">

      <div id="zoomy-tpl" style="float: right;">
        <a href="javascript:void(0);" jsvalues="$h:handle(this,'gotoCanvasMode')">
          <img jsvalues=".src:getZoomyImageUrl()" border="0" height="12" width="12">
        </a>
      </div>

      <div id="zoomy-profile-tpl" style="float: right;">
        <!--
        <a href="javascript:void(0);" jsvalues="$h:handle(this,'gotoProfileMode')">
          <img border="0" jsvalues=".src:getZoomyImageUrl()" width="12" height="12">
        </a> -->
      </div>

      <div class="fc-member-large-thumb" id="member-thumb-large-tpl:canvas">
        <img class="fc-member-large-thumb-img" jsvalues="src:getThumbnail($this);$h:handle(this,'viewProfile');title:getDisplayName()" height="45" width="45">
        <div class="fc-member-large-thumb-name" jscontent="getDisplayName()"></div>
      </div>

      <div id="item-tpl" jsvalues=".className:(isCanvasMode() ? 'fc-item fc-item-canvas' : 'fc-item')">
        <div class="fc-item-body" style="padding-left: 20px;">
          <img jsvalues="src:icon" style="margin-left: -20px; margin-right: 2px; position: absolute;" height="16" width="16" align="top">
          <a jscontent="title" jsdisplay="title" jsvalues="href:link;.className:(isCanvasMode() ? 'fc-item-link fc-item-link-canvas' : 'fc-item-link')" target="_blank"></a>
          <span jsvalues=".innerHTML:typeof(innerHTML) != 'undefined' ? innerHTML : ''"></span>
          <span class="fc-item-body" jsdisplay="body"> - <span jsvalues=".innerHTML:typeof(body) != 'undefined' ? body : ''"></span></span>
          <span class="fc-on-other-site" jsdisplay="siteTitle">
            &nbsp;<img class="delete-button" jsdisplay="typeof($this.deleteHandler) != 'undefined' &amp;&amp; $this.deleteHandler != null" jsvalues="$h:handle(this, $this.deleteHandler);alt:MSG_DELETE_THIS;title:MSG_DELETE_THIS" src="cm_data/trash.gif">
          </span>
        </div>
        <div class="clear"></div>
      </div>

      <div id="profile-extension-tpl" jsvalues=".className:(isCanvasMode() ? 'fc-userpage-itemlist fc-userpage-itemlist-canvas' : 'fc-userpage-itemlist')">
        <span class="fc-sectitle">
          <span jscontent="title"></span>
        </span>
        <div jsselect="body">
          <div class="fc-about-me" jscontent="$this"></div>
        </div>
      </div>


      <!-- Top panel in the members gadget -->
      <div class="fc-topcap-color" id="topcap-tpl" jsvars="isSlimTop: hasMenuMode('profile') ||
                                    isBottomMenu();
                                   isSlimEmpty: hasMenuMode('members') &amp;&amp;
                                    isBottomMenu();
                                   isNoTop: hasMenuMode('members') &amp;&amp;
                                    !isBottomMenu();">
        <div class="fc-topcap" jsdisplay="!isNoTop">
          <div jsdisplay="viewer">
            <div jsdisplay="!isSlimTop">
              <div transclude="zoomy-tpl"></div>
              <div class="fc-userpic" jsselect="viewer">
                <div transclude="member-thumb-tpl"></div>
              </div>
            </div>
            <div class="fc-userpic-caption" jsselect="viewer">
              <div class="fc-username" jscontent="getDisplayName()" jsdisplay="!isSlimTop"></div>
              <div class="fc-members-options-menu" jsdisplay="!isSlimEmpty">
              </div>
            <div class="clear"></div>
            </div>
          </div>
          <div jsdisplay="!viewer">
            <div jsdisplay="!isSlimEmpty">
              <div class="clear"></div>
              <div transclude="zoomy-tpl"></div>
              <div transclude="signin-button-tpl"></div>
              <div class="clear"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="fc-topcap" id="topcap-nav-tpl">
        <div jsdisplay="viewer">
          <div class="fc-userpic" jsselect="viewer">
            <div transclude="member-thumb-tpl"></div>
          </div>
          <div class="fc-userpic-caption" jsselect="viewer">
            <div class="fc-username" jscontent="getDisplayName()"></div>
            <div>
              <span id="nav-links-tpl" style="font-weight: bold;">
                <a class="fc-topcap-link" href="javascript:void(0);" jscontent="MSG_BACK_TO_TOP" jsvalues="$h:handle(this,'goBackToHome')"></a>&nbsp;|&nbsp;<a class="fc-topcap-link" href="javascript:void(0);" jscontent="MSG_BACK" jsvalues="$h:handle(this,'goBack')"></a>
              </span>
            </div>
          </div>
        </div>
        <div jsdisplay="!viewer" jsvars="buttonLabel:MSG_JOIN;buttonHandler:signin">
          <div transclude="zoomy-tpl"></div>
          <div transclude="button-tpl"></div>
          <div transclude="nav-links-tpl"></div>
        </div>
      </div>

      <div id="topcap-nav-tpl:canvas">
        <div transclude="top-paging-tpl"></div>
      </div>

      <div id="topcap-nav-home-tpl">
        <div class="fc-topverb" style="border-bottom: medium none;">
          <span jsvalues=".className:(isCanvasMode() ? 'fc-left-verb fc-left-verb-canvas' : 'fc-left-verb')">
            <span transclude="view-my-profile-tpl"></span>
          </span>
          <div transclude="zoomy-profile-tpl"></div>
        </div>
      </div>

    <div class="fc-button" id="signin-button-tpl" jseval="generateSignInButton(this, MSG_JOIN, 'standard');">
    </div>


    <div class="fc-button" id="button-tpl" jsvalues="$h:handle(this,buttonHandler);$h:decorateButton(this);">
      <span jscontent="buttonLabel" style="font-size: 14px; font-weight: bold;"></span>
    </div>

    <div class="fc-members" id="profile-tpl">
      <div transclude="topcap-tpl"></div>
      <div class="fc-scroll-botnav fc-content-bg">
        <div class="fc-content fc-minheight fc-profile">
          <div jsselect="profile">
            <div transclude="profile-summary-tpl"></div>
            <div jsselect="person" jsvars="aboutMe:getField(opensocial.Person.Field.ABOUT_ME)">
              <div class="fc-userpage-itemlist" jsdisplay="aboutMe != null &amp;&amp; aboutMe.length &gt; 0">
                <span class="fc-sectitle">
                  <span jscontent="MSG_ABOUT_ME"></span>
                </span>
                <div class="fc-about-me" jscontent="aboutMe">
                </div>
              </div>
            </div>
            <div jsselect="profileExtensions">
              <div transclude="profile-extension-tpl"></div>
            </div>
            <div jsdisplay="size() &gt; 0" jsselect="links" jsvars="numPreviewItems:3;heading:MSG_LINKS;items:$this;showAllHandler:showAllLinks;transform:transformLink">
              <div transclude="item-list-preview-tpl"></div>
            </div>
            <div jsdisplay="size() &gt; 0" jsselect="sites" jsvars="numPreviewItems:3;heading:MSG_SITES;items:$this;showAllHandler:showAllSites;transform:transformSite">
              <div transclude="item-list-preview-tpl"></div>
            </div>
            <div class="fc-userpage-itemlist" jsdisplay="size() &gt; 0" jsselect="friends" jsvars="label:MSG_PROFILE_FRIENDS;showAllHandler:showAllProfileFriends;numPreviewItems:facesPerRow">
              <div transclude="faces-preview-tpl">
              </div>
            </div>
            <div jsdisplay="size() &gt; 0" jsselect="activities" jsvars="numPreviewItems:2;heading:MSG_ACTIVITIES;items:$this;showAllHandler:showAllActivities;transform:transformActivity">
              <div transclude="item-list-preview-tpl"></div>
            </div>
          </div>
        </div>
      </div>
      <div transclude="bottom-paging-tpl"></div>
    </div>

    <div class="fc-members-canvas" id="profile-tpl:canvas">
      <div jsdisplay="!hideNavigation()"> <div transclude="top-paging-tpl"></div></div>
      <div class="fc-content-canvas fc-content-bg fc-minheight">
        <div jsselect="profile" style="position: relative;">
          <div>
            <div transclude="profile-summary-tpl"></div>
            <div jsselect="person" jsvars="aboutMe:getField(opensocial.Person.Field.ABOUT_ME)">
              <div class="fc-userpage-itemlist-canvas" jsdisplay="aboutMe &amp;&amp; aboutMe.length &gt; 0">
                <span class="fc-sectitle fc-sectitle-canvas">
                  <span jscontent="MSG_ABOUT_ME"></span>
                </span>
                <div class="fc-about-me" jscontent="aboutMe">
                </div>
              </div>
            </div>

            <div jsselect="profileExtensions">
              <div transclude="profile-extension-tpl"></div>
            </div>
            <div jsdisplay="size() &gt; 0" jsselect="links" jsvars="numPreviewItems:5;heading:MSG_LINKS;items:$this;showAllHandler:showAllLinks;transform:transformLink">
              <div transclude="item-list-preview-tpl"></div>
            </div>
            <div jsdisplay="size() &gt; 0" jsselect="sites" jsvars="numPreviewItems:5;heading:MSG_SITES;items:$this;showAllHandler:showAllSites;transform:transformSite">
              <div transclude="item-list-preview-tpl"></div>
            </div>
            <div class="fc-userpage-itemlist" jsdisplay="size() &gt; 0" jsselect="friends" jsvars="label:MSG_PROFILE_FRIENDS;showAllHandler:showAllProfileFriends;numPreviewItems:16">
              <div transclude="faces-preview-tpl"></div>
            </div>
            <div jsdisplay="size() &gt; 0" jsselect="activities" jsvars="numPreviewItems:2;heading:MSG_ACTIVITIES;items:$this;showAllHandler:showAllActivities;transform:transformActivity">
              <div transclude="item-list-preview-tpl"></div>
            </div>
          </div>
          <div class="clear"> </div>
        </div>
      </div>
      <div jsdisplay="!hideNavigation()"> <div transclude="bottom-paging-tpl"></div></div>
    </div>

    <div class="fc-userpage-itemlist" id="item-list-preview-tpl">
      <span class="fc-sectitle" jscontent="heading"></span>
      <span class="fc-userpage-itemlist-paging">
        <a class="fc-see-all" href="javascript:void(0);" jscontent="MSG_MORE" jsdisplay="items.getTotalSize() &gt; numPreviewItems" jsvalues="$h:handle(this,showAllHandler)"></a>
      </span>
      <div class="fc-itemlist-table" jsselect="map(items, transform).slice(0, numPreviewItems)">
        <div transclude="item-tpl"></div>
      </div>
    </div>

    <div class="fc-userpage-itemlist-canvas" id="item-list-preview-tpl:canvas">
      <span class="fc-sectitle fc-sectitle-canvas" jscontent="heading" style="font-size: 14px;"></span>&nbsp;
      <span class="fc-userpage-itemlist-paging">
        <a class="fc-see-all" href="javascript:void(0);" jscontent="MSG_MORE" jsdisplay="items.getTotalSize() &gt; numPreviewItems" jsvalues="$h:handle(this,showAllHandler)"></a>
      </span>
      <div class="fc-itemlist-table" jsselect="map(items, transform).slice(0, numPreviewItems)">
        <div transclude="item-tpl"></div>
      </div>
    </div>

    <div id="profile-summary-tpl">
      <div jsselect="person">
        <span class="fc-userpage-pic">
          <div jsdisplay="!isCanvasMode()">
            <div transclude="member-thumb-tpl"></div>
          </div>
          <div jsdisplay="isCanvasMode()">
            <div transclude="member-thumb-65-tpl"></div>
          </div>
        </span>
      </div>
      <div class="fc-userpic-caption">
        <div jsselect="person">
          <a jsdisplay="externalProfileUrl" jsvalues="href:externalProfileUrl" target="_blank">
            <div jscontent="getDisplayName()" jsvalues=".className:(isCanvasMode() ? 'fc-userpage-name fc-userpage-name-canvas' : 'fc-userpage-name')"></div>
          </a>
          <span jsdisplay="!externalProfileUrl || typeof(externalProfileUrl)==undefined">
            <div jscontent="getDisplayName()" jsvalues=".className:(isCanvasMode() ? 'fc-userpage-name fc-userpage-name-canvas' : 'fc-userpage-name')"></div>
          </span>
        </div>
        <div style="padding-bottom: 2px;">
          <div jsdisplay="typeof(isFriend) != 'undefined' &amp;&amp; !isFriend &amp;&amp; typeof(isInvited) == 'undefined'">
            <a href="javascript:void(0);" jsselect="person" jsvalues="$h:handle(this,'goToInviteFriend');.className:(isCanvasMode() ? 'fc-default-link fc-default-link-canvas' : 'fc-default-link')">
              <img class="fc-plus-pic" src="cm_data/plus.gif">
              <span jscontent="MSG_ADD_AS_FRIEND"></span>
            </a>
          </div>
          <div jscontent="MSG_IS_INVITED" jsdisplay="typeof(isInvited) != 'undefined' &amp;&amp; isInvited">
          </div>
          <div jscontent="MSG_IS_FRIEND" jsdisplay="isFriend">
          </div>
        </div>
        <div jsdisplay="isMessagingEnabled &amp;&amp; canSendMessage">
          <a href="javascript:void(0);" jsselect="person" jsvalues="$h:handle(this,'sendMessageDialog');.className:(isCanvasMode() ? 'fc-default-link fc-default-link-canvas' : 'fc-default-link')">
            <img class="fc-envelope-pic" src="cm_data/smallEnvelope.jpg">
              <span jscontent="MSG_SEND_MESSAGE"></span>
            </a>
        </div>
        <div jsdisplay="isViewingSelf &amp;&amp; communityHasProfile">
          <a class="fc-faded-link" href="javascript:void(0);" jsvalues="$h:handle(this,'goToEditProfile')">
            <img class="fc-edit-pic" src="cm_data/fc-edit.png">
            <span jscontent="MSG_EDIT_PROFILE"></span>
          </a>
        </div>

        <div jsdisplay="isViewerAdmin">
          <div jsdisplay="!isAdmin &amp;&amp; (typeof(isBlocked) != 'undefined' &amp;&amp; !isBlocked)">
            <a class="fc-faded-link" href="javascript:void(0);" jsselect="person" jsvalues="$h:handle(this,'goToBlockMember')">
              <img class="fc-do-not-enter-pic" src="cm_data/do-not-enter.gif">
              <span jscontent="MSG_BLOCK_USER"></span>
            </a>
          </div>
          <div jsdisplay="isBlocked">
            <a class="fc-faded-link-small" href="javascript:void(0);" jsselect="person" jsvalues="$h:handle(this,'unblockUser')">
              <img class="fc-plus-pic" src="cm_data/unblock.gif">
              <span jscontent="MSG_UNBLOCK_USER"></span>
            </a>
          </div>
          <div class="fc-profile-summary" jscontent="MSG_USER_IS_ADMIN" jsdisplay="isAdmin"></div>
        </div>
      </div>
      <div class="clear">
      </div>
    </div>

    <div class="fc-members" id="activities-tpl" jsvars="label:MSG_ALL_ACTIVITIES; previous:MSG_NEWER;next:MSG_OLDER;items:profile.activities;transform:transformActivity;nextHandler:nextActivities;prevHandler:prevActivities">
      <div transclude="items-tpl">
      </div>
    </div>

    <div class="fc-members" id="members-page-tpl" jsvars="label:MSG_ALL_SITE_MEMBERS;items:members;nextHandler:nextMembers;prevHandler:previousMembers">
      <div transclude="faces-page-tpl"></div>
    </div>

    <div class="fc-members" id="blocked-members-page-tpl" jsvars="label:MSG_ALL_BLOCKED_MEMBERS;items:blockedMembers;nextHandler:nextBlockedMembers;prevHandler:previousBlockedMembers;noneMessage:MSG_NO_BLOCKED_MEMBERS;showAllFilter:true">
      <div transclude="faces-page-tpl"></div>
    </div>

    <div class="fc-members" id="profile-friends-page-tpl" jsvars="label:MSG_ALL_PROFILE_FRIENDS;items:profile.friends;nextHandler:nextProfileFriends;prevHandler:previousProfileFriends">
      <div transclude="faces-page-tpl"></div>
    </div>

    <div class="fc-members" id="viewer-friends-page-tpl" jsvars="label:MSG_ALL_YOUR_FRIENDS;items:friends;nextHandler:nextViewerFriends;prevHandler:previousViewerFriends">
      <div transclude="faces-page-tpl"></div>
    </div>

    <div class="fc-members" id="faces-page-tpl" jsvars="previous:MSG_PREVIOUS;next:MSG_NEXT">
      <div transclude="topcap-tpl"></div>
      <div jsvalues=".className:(isCanvasMode() ? 'fc-content-bg' : 'fc-noscroll-botnav fc-content-bg')">
        <div jsvalues=".className:(isCanvasMode() ? 'fc-content-canvas fc-minheight' : 'fc-content')">
          <div class="fc-mem-grid" style="padding-bottom: 0pt;">
            <div class="clear"></div>
            <div jsvalues=".className:(isCanvasMode() ? 'fc-sectitle fc-sectitle-canvas' : 'fc-sectitle')">
              <span class="fc-right-verb" jsdisplay="showAllFilter"><a href="javascript:void(0);" jscontent="MSG_SHOW_ALL" jsvalues="$h:handle(this,showUnblockedMembers)"></a></span>
              <span jscontent="label"></span>&nbsp;(<span jscontent="items.getTotalSize() || '0'"></span>)
            </div>
            <div class="clear"></div>
            <div class="fc-no-elements" jscontent="noneMessage" jsdisplay="!items.getTotalSize() &amp;&amp; noneMessage">
            </div>
            <div class="fc-thumbnail" jsselect="items.asArray()">
              <div transclude="member-thumb-large-tpl"></div>
            </div>
            <div class="clear"></div>
          </div>
        </div>
      </div>
      <div transclude="bottom-paging-tpl">
      </div>
    </div>

    <div class="fc-members" id="faces-page-tpl:canvas" jsvars="previous:MSG_PREVIOUS;next:MSG_NEXT">
      <div transclude="top-paging-tpl"></div>
      <div class="fc-minheight fc-content-bg">
        <div class="fc-members-header" style="border-top: medium none;">
          <span class="fc-right-verb" jsdisplay="showAllFilter"><a href="javascript:void(0);" jscontent="MSG_SHOW_ALL" jsvalues="$h:handle(this,showUnblockedMembers)"></a></span>
          <span class="fc-header-sectitle" jscontent="label"></span>&nbsp;(<span jscontent="items.getTotalSize() || '0'"></span>)
        </div>
        <div class="fc-mem-grid" style="padding-bottom: 0pt;">
          <div class="fc-no-elements" jscontent="noneMessage" jsdisplay="!items.getTotalSize() &amp;&amp; noneMessage">
          </div>
          <div class="fc-thumbnail" jsselect="items.asArray()">
            <div transclude="member-thumb-large-tpl"></div>
          </div>
          <div class="clear"></div>
        </div>
      </div>
      <div transclude="bottom-paging-tpl"></div>
    </div>

    <div class="fc-members" id="links-tpl" jsvars="label:MSG_ALL_LINKS;previous:MSG_PREVIOUS;next:MSG_NEXT;items:profile.links;transform:transformLink;nextHandler:nextLinks;prevHandler:previousLinks">
      <div transclude="items-tpl">
      </div>
    </div>

    <div class="fc-members" id="sites-tpl" jsvars="label:MSG_ALL_SITES;previous:MSG_PREVIOUS;next:MSG_NEXT;items:profile.sites;transform:transformSite;nextHandler:nextSites;prevHandler:previousSites">
      <div transclude="items-tpl">
      </div>
    </div>

    <div class="fc-members" id="items-tpl">
      <div jsdisplay="isCanvasMode()">
        <div transclude="topcap-nav-tpl"></div>
      </div>
      <div jsdisplay="!isCanvasMode()">
        <div transclude="topcap-tpl"></div>
      </div>
      <div jsvalues=".className:(isCanvasMode() ? 'fc-content-bg' : 'fc-scroll-botnav fc-content-bg')">
        <div jsvalues=".className:(isCanvasMode() ? 'fc-content-canvas fc-minheight' : 'fc-content')">
          <div jsselect="profile">
            <div transclude="profile-summary-tpl">
            </div>
            <div class="fc-userpage-itemlist">
              <span jscontent="label" jsvalues=".className:(isCanvasMode() ? 'fc-sectitle fc-sectitle-canvas' : 'fc-sectitle')"></span>&nbsp;
              
              <div class="fc-itemlist-table" jsselect="map(items, transform)">
                <div transclude="item-tpl"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div transclude="bottom-paging-tpl">
      </div>
    </div>

    <div class="fc-members" id="invite-friend-tpl" jsvars="sendHandler:sendInvite">
      <div transclude="topcap-tpl"></div>
      <div jsvalues=".className:(isCanvasMode() ? 'fc-content-bg' : 'fc-scroll-botnav fc-content-bg')">
        <div jsvalues=".className:(isCanvasMode() ? 'fc-content-canvas fc-minheight' : 'fc-content')">
          <div jsselect="profile.person">
            <span class="fc-userpage-pic">
              <div transclude="member-thumb-tpl"></div>
            </span>
            <div class="fc-userpic-caption">
              <div class="fc-userpage-name" jscontent="getDisplayName()"></div>
            </div>
            <div class="fc-message">
              <div jscontent="MSG_INVITATION" jsvalues=".className:(isCanvasMode() ? 'fc-sectitle fc-sectitle-canvas' : 'fc-sectitle')"></div>
              <textarea class="fc-textarea" jsvalues="id:'inviteMessage'" name="textarea" rows="2"></textarea>
              <div class="fc-helpful" jscontent="MSG_HELP_FRIENDINVITE"></div>
              <div jsvars="buttonHandler:sendHandler;buttonLabel:MSG_SEND">
                <div transclude="button-tpl"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div transclude="bottom-paging-tpl">
      </div>
    </div>

    <div class="fc-members" id="block-member-tpl" jsvars="sendHandler:blockMember">
      <div jsdisplay="isCanvasMode()">
        <div transclude="topcap-nav-tpl"></div>
      </div>
      <div jsdisplay="!isCanvasMode()">
        <div transclude="topcap-tpl"></div>
      </div>
      <div jsvalues=".className:(isCanvasMode() ? 'fc-content-bg' : 'fc-scroll-botnav fc-content-bg')">
        <div jsvalues=".className:(isCanvasMode() ? 'fc-content-canvas fc-minheight' : 'fc-content')">
          <div jsselect="profile.person">
            <span class="fc-userpage-pic">
              <div transclude="member-thumb-tpl"></div>
            </span>
            <div class="fc-userpic-caption">
              <div class="fc-userpage-name" jscontent="getDisplayName()"></div>
            </div>
            <div class="fc-message">
              <div jscontent="MSG_HELP_BLOCKMEMBER" jsvalues=".className:(isCanvasMode()
                     ? 'fc-blocked-helpful-msg-canvas'
                     : 'fc-blocked-helpful-msg-gadget')">
              </div>
              <span jsvars="buttonHandler:sendHandler;buttonLabel:MSG_BLOCK">
                <div transclude="button-tpl"></div>
              </span>
              &nbsp; &nbsp;
              <a href="javascript:void(0);" jscontent="MSG_CANCEL" jsvalues="$h:handle(this,'goBack');.className:(isCanvasMode() ? 'fc-default-link fc-default-link-canvas' : 'fc-default-link')">
              </a>
            </div>
          </div>
        </div>
      </div>
      <div transclude="bottom-paging-tpl">
      </div>
    </div>

    <span class="fc-send" id="send-button-tpl" jscontent="MSG_SEND" jsvalues="$h:handle(this,sendHandler)"></span>

    <div class="fc-botcap-short" id="bottom-paging-tpl">
      <div transclude="paging-tpl"></div>
    </div>

    <div class="fc-botcap-short fc-botcap-short-canvas" id="bottom-paging-tpl:canvas">
      <div transclude="paging-tpl"></div>
    </div>

    <div class="fc-topverb" id="top-paging-tpl">
      <div transclude="paging-tpl"></div>
    </div>

    <div class="fc-topverb fc-topverb-canvas" id="top-paging-tpl:canvas">
      <div transclude="paging-tpl"></div>
    </div>

    <a href="javascript:void(0);" id="goback-tpl" jscontent="MSG_BACK" jsdisplay="!isHome()" jsvalues="$h:handle(this,'goBack')"></a>

    <a href="javascript:void(0);" id="gobacktop-tpl" jscontent="MSG_BACK_TO_TOP" jsdisplay="!hasMenuMode('profile')" jsvalues="$h:handle(this,'goBackToHome')"></a>

    <a href="javascript:void(0);" id="view-my-profile-tpl" jscontent="MSG_VIEW_MY_PROFILE" jsdisplay="viewer.getId() &amp;&amp; isCanvasMode()" jsvalues="$h:handle(this,'goToViewerProfile')"></a>

    <div id="paging-tpl">
      <span jsvalues=".className:(isCanvasMode() ? 'fc-left-verb fc-left-verb-canvas' : 'fc-left-verb')">
        <span transclude="gobacktop-tpl"></span>&nbsp;&nbsp;
        <span transclude="goback-tpl"></span>&nbsp;&nbsp;
      </span>
      <span jsselect="items" jsvalues=".className:(isCanvasMode() ? 'fc-right-verb fc-right-verb-canvas' : 'fc-right-verb')" style="margin-right: 4px;">
        <a href="javascript:void(0);" jscontent="previous" jsdisplay="$this.getOffset() &gt; 0" jsvalues="$h:handle(this,prevHandler)" style="padding-right: 4px;"></a>
        <span jscontent="previous" jsdisplay="$this.getOffset() == 0" style="visibility: hidden; padding-right: 4px;"></span>
        <a href="javascript:void(0);" jscontent="next" jsdisplay="$this.getTotalSize() &gt; ($this.size() + $this.getOffset())" jsvalues="$h:handle(this,nextHandler)"></a>
        <span jscontent="next" jsdisplay="$this.getTotalSize() &lt;= ($this.size() + $this.getOffset())" style="visibility: hidden;"></span>
      </span>&nbsp;
      <div class="clear"></div>
    </div>

    <div class="fc-waitingmsg" id="waiting-messages-tpl" jsdisplay="showWaitingMessages">
      <div>
        <table><tbody><tr>
            <td valign="top"><img src="cm_data/smallEnvelope.jpg"></td>
            <td>
              <div jscontent="MSG_NUM_WAITING_MESSAGES"></div>
              <div><a href="javascript:void(0);" jscontent="MSG_VIEW_AND_CONFIGURE_MESSAGING" jseval="handle(this,'acceptMessages')">
                </a>
              </div>
            </td>
        </tr></tbody></table>
      </div>
    </div>

    <div class="fc-promo-main" id="promo-tpl" jsdisplay="promoHtml">
      <div jseval="insertHtml(this, promoHtml);"></div>
    </div>

    <div class="fc-members" id="friend-requests-tpl">
      <div transclude="topcap-tpl"></div>
      <div class="fc-scroll-botnav fc-content-bg">
        <div class="fc-friendreq" jsselect="friendRequests.asArray()">
          <div class="fc-userpic" jsselect="$this.getField(google.FriendConnect.Invite.Field.INVITER)">
            <div transclude="member-thumb-tpl"></div>
          </div>
          <div class="fc-userpic-caption">
            <span jsselect="$this.getField(google.FriendConnect.Invite.Field.INVITER)">
              <div class="fc-username" jscontent="getDisplayName()"></div>
              <a href="javascript:void(0);" jscontent="MSG_ADD_AS_FRIEND" jsvalues="$h:handle(this,'acceptFriendRequest');.className:(isCanvasMode() ? 'fc-default-link fc-default-link-canvas' : 'fc-default-link')"></a> |
              <a href="javascript:void(0);" jscontent="MSG_IGNORE" jsvalues="$h:handle(this,'ignoreFriendRequest');.className:(isCanvasMode() ? 'fc-default-link fc-default-link-canvas' : 'fc-default-link')"></a>
            </span>
            <div class="fc-friendreq-text" jscontent="$this" jsselect="$this.getField(google.FriendConnect.Invite.Field.MESSAGE)">
            </div>
          </div>
        </div>
        <div jsvalues=".className:(isCanvasMode() ? '' : 'fc-content')">
          <span class="fc-helpful" jscontent="MSG_HELP_FRIENDREQUEST"></span>
        </div>
      </div>
      <div transclude="bottom-paging-tpl">
      </div>
    </div>

    <div id="invitedby-tpl">
      <div jsdisplay="showInvitedBy()">
        <div jsselect="invitedBy" jsvalues=".className:(isCanvasMode() ? 'fc-invitedby-canvas' : 'fc-invitedby')">
          <div class="fc-userpic">
            <div transclude="member-thumb-tpl"></div>
          </div>
          <div class="fc-invitedby-text" jscontent="MSG_INVITED_YOU"></div>
          <div class="fc-invitedby-link-container"><a class="fc-invitedby-link" href="javascript:void(0);" jscontent="MSG_VIEW_INVITER_PROFILE" jsvalues="$h:handle(this,'viewProfile')"></a></div>
        </div>
      </div>
    </div>

    <div id="friendreqs-tpl">
      <div jsdisplay="$this.size()" jsselect="friendRequests" jsvalues=".className:(isCanvasMode() ? 'fc-friendreqs-canvas' : 'fc-friendreqs')">
        <div class="fc-userpic" jsselect="asArray()[0].getField(google.FriendConnect.Invite.Field.INVITER)">
          <div transclude="member-thumb-tpl"></div>
        </div>
        <a class="fc-friendreqs-link" href="javascript:void(0);" jscontent="MSG_NEW_FRIEND_REQUESTS" jsvalues="$h:handle(this,'viewFriendRequests')"></a>
      </div>
    </div>

    <div class="fc-members" id="faces-tpl" jsvars="friendReqs:(friendRequests &amp;&amp; friendRequests.size() &gt; 0)">
      <div transclude="topcap-tpl"></div>
      <div transclude="waiting-messages-tpl"></div>
      <div transclude="promo-tpl"></div>
      <div transclude="invitedby-tpl"></div>
      <div transclude="friendreqs-tpl"></div>
      <div jsvars="dropARow:(friendReqs || showInvitedBy() || showWaitingMessages || promoHtml)">
        <div jsvalues=".className:(dropARow ? 'fc-content-bg fc-noscroll-friendreq' : 'fc-content-bg fc-noscroll')">
          <div jsvalues=".className:(isCanvasMode() ? 'fc-content-canvas fc-minheight' : 'fc-content')" style="padding-bottom: 0px;">
            <div class="fc-no-elements" jsdisplay="!members || !members.getTotalSize()">
              <div jscontent="MSG_NO_SITE_MEMBERS">
              </div>
              <a href="javascript:void(0);" jscontent="MSG_BE_THE_FIRST" jsvalues="$h:handle(this,'signin')"></a>
            </div>
            <div jsselect="members" jsvars="label:MSG_SITE_MEMBERS;showAllHandler:showAllMembers;numPreviewItems:numPreviewMembers(dropARow);showBlockedFilter:false;needsZoomyForNoTop:hasMenuMode('members')">
              <div transclude="faces-preview-tpl">
              </div>
            </div>
            <div jsselect="friends" jsvars="label:MSG_YOUR_FRIENDS;showAllHandler:showAllViewerFriends;numPreviewItems:numPreviewFriends(dropARow);showBlockedFilter:false;needsZoomyForNoTop:false">
              <div transclude="faces-preview-tpl">
              </div>
            </div>
          </div>
        </div>
      </div>
    <div transclude="footer-text-tpl"></div>
    </div>

    <div class="fc-members" id="faces-tpl:canvas" jsvars="friendReqs:(friendRequests &amp;&amp; friendRequests.size() &gt; 0)">
      <div transclude="waiting-messages-tpl"></div>
      <div transclude="promo-tpl"></div>
      <div transclude="invitedby-tpl"></div>
      <div transclude="friendreqs-tpl"></div>
      <div jsvalues=".className:(isCanvasMode() ? 'fc-content-bg fc-minheight' : 'fc-content')">
        <div jsselect="members" jsvars="label:MSG_SITE_MEMBERS;showAllHandler:showAllMembers;numPreviewItems:numPreviewMembers(friendReqs);showBlockedFilter:isViewerAdmin">
          <div transclude="faces-preview-large-tpl">
          </div>
        </div>
        <div class="fc-no-elements" jscontent="MSG_NO_SITE_MEMBERS" jsdisplay="!members || !members.getTotalSize()">
        </div>
        <div jsselect="friends" jsvars="label:MSG_YOUR_FRIENDS;showAllHandler:showAllViewerFriends;numPreviewItems:numPreviewFriends(friendReqs);showBlockedFilter:false">
          <div transclude="faces-preview-large-tpl">
          </div>
        </div>
      </div>
      <div transclude="footer-text-tpl"></div>
    </div>

    <div class="fc-mem-grid" id="faces-preview-tpl" jsdisplay="$this &amp;&amp; $this.size() &amp;&amp; numPreviewItems &gt; 0">
        <div jsdisplay="needsZoomyForNoTop">
          <div transclude="zoomy-tpl"></div>
        </div>
      <div jsvalues=".className:(isCanvasMode() ? 'fc-sectitle fc-sectitle-canvas' : 'fc-sectitle')">
        <span jscontent="label"></span>&nbsp;(<span jscontent="$this.getTotalSize() || '0'"></span>)
        <a class="fc-see-all" href="javascript:void(0);" jscontent="MSG_MORE" jsdisplay="$this.getTotalSize() &gt; numPreviewItems" jsvalues="$h:handle(this,showAllHandler)"></a>
        <span jsdisplay="showBlockedFilter">
          <a class="fc-see-all" href="javascript:void(0);" jscontent="MSG_SHOW_BLOCKED" jsvalues="$h:handle(this,showBlockedMembers)"></a>
        </span>
      </div>
      <div class="clear"></div>
      <div class="fc-thumbnail" jsselect="safeSlice($this.asArray(), 0, numPreviewItems)">
        <div transclude="member-thumb-tpl"></div>
      </div>
      <div class="clear"></div>
    </div>

    <div class="fc-mem-grid" id="faces-preview-large-tpl:canvas" jsdisplay="($this &amp;&amp; $this.size() &amp;&amp; numPreviewItems &gt; 0) || showBlockedFilter">
      <div class="fc-members-header">
        <span class="fc-header-sectitle" jscontent="label" style="font-size: 15px;"></span>&nbsp;(<span jscontent="$this.getTotalSize() || '0'"></span>)
        <span class="fc-see-all">
          <span jsdisplay="showBlockedFilter"><a href="javascript:void(0);" jscontent="MSG_SHOW_BLOCKED" jsvalues="$h:handle(this,showBlockedMembers)"></a></span>
          <a href="javascript:void(0);" jscontent="MSG_MORE" jsdisplay="$this.getTotalSize() &gt; numPreviewItems" jsvalues="$h:handle(this,showAllHandler)"></a>
        </span>
      </div>
      <div class="fc-thumbnail" jsselect="safeSlice($this.asArray(), 0, numPreviewItems)">
        <div transclude="member-thumb-large-tpl"></div>
      </div>
      <div class="clear"></div>
    </div>

    <div class="fc-subtle-botcap" id="footer-text-tpl">
      <div jsdisplay="viewer != null">
        <span class="fc-faded-link-small">
          <a href="javascript:void(0);" jscontent="MSG_INVITE_YOUR_FRIENDS" jsvalues="$h:handle(this,'invite')"></a>
        </span>
      </div>
      <div jsdisplay="viewer == null">
        <span class="fc-botcap-text" jscontent="MSG_ALREADY_MEMBER"></span>
        <span class="fc-content-link">
          <a href="javascript:void(0);" jscontent="MSG_SIGN_IN" jsvalues="$h:handle(this,'signin')"></a>
        </span>
      </div>
    </div>

    </div>

    <div id="gadget_js_log" style="display: none;"></div>

    <script type="text/javascript">
      _IG_RegisterOnloadHandler( function() {
        var gadget = new goog.peoplesense.gadget.Members(true, false);
        gadget.start();
      });
    </script>
    
    
  <script>gadgets.util.runOnLoadHandlers();</script><script>(function(){var a=window,i="join";if(a.jstiming){a.jstiming.beaconImageReferences_={};a.jstiming.reportCounter_=1;var j=function(b,c,f){var d=b.t[c],h=b.t.start;if(d&&(h||f)){d=b.t[c][0];h=f!=undefined?f:h[0];return d-h}};a.jstiming.report=function(b,c,f){var d="";if(a.jstiming.pt){d+="&srt="+a.jstiming.pt;delete a.jstiming.pt}try{if(a.external&&a.external.tran)d+="&tran="+a.external.tran;else if(a.gtbExternal&&a.gtbExternal.tran)d+="&tran="+a.gtbExternal.tran()}catch(h){}if(b.dapperCookie_)d+="&"+b.dapperCookie_;var g=b.t,y=g.start,
q=[],m=[];for(var e in g)if(e!="start")if(e.indexOf("_")!=0){var n=g[e][1];if(n)g[n]&&m.push(e+"."+j(b,e,g[n][0]));else y&&q.push(e+"."+j(b,e))}delete g.start;if(c)for(var r in c)d+="&"+r+"="+c[r];b=[f?f:"http://csi.gstatic.com/csi","?v=3","&s="+(a.jstiming.sn||"opensocial-gadgets")+"&action=",b.name,m.length?"&it="+m[i](","):"",d,"&rt=",q[i](",")][i]("");c=new Image;var s=a.jstiming.reportCounter_++;a.jstiming.beaconImageReferences_[s]=c;c.onload=c.onerror=function(){delete a.jstiming.beaconImageReferences_[s]};
c.src=b;c=null;return b}};var k=a.jstiming.load;k.tick("prt");var l={"http:":"http://csi.gstatic.com/csi","https:":"https://gg.google.com/csi"},o={ig:1,orkut:1,gm:1},p={profile:1,canvas:1,card:1,home:1},t=function(b){var c=document.location.href;if(b=c.match(new RegExp("[?&]"+b+"=([^&#]+)")))return b[1]},u=t("container")||t("synd");u=o[u]?u:"default";var v=t("view");v=p[v]?v:"default";k.name=[u,"_",v][i]("");var w=t("url");
if(w){var x=a.encodeURIComponent?encodeURIComponent:escape,z={gadget:x(w),container:x(u)},A=a.__dflags||{};for(var B in A)z[B]=A[B];a.jstiming.report(k,z,l[document.location.protocol])};})();
</script></body></html>